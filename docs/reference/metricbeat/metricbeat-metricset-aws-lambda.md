---
mapped_pages:
  - https://www.elastic.co/guide/en/beats/metricbeat/current/metricbeat-metricset-aws-lambda.html
---

# AWS lambda metricset [metricbeat-metricset-aws-lambda]

AWS Lambda monitors functions and sends metrics to Amazon CloudWatch. These metrics include total invocations, errors, duration, throttles, dead-letter queue errors, and iterator age for stream-based invocations.


## AWS Permissions [_aws_permissions_8]

Some specific AWS permissions are required for IAM user to collect AWS EBS metrics.

```
ec2:DescribeRegions
cloudwatch:GetMetricData
cloudwatch:ListMetrics
tag:getResources
sts:GetCallerIdentity
iam:ListAccountAliases
```


## Dashboard [_dashboard_9]

The aws lambda metricset comes with a predefined dashboard. For example:

:::{image} images/metricbeat-aws-lambda-overview.png
:alt: metricbeat aws lambda overview
:::


## Configuration example [_configuration_example_8]

```yaml
- module: aws
  period: 300s
  metricsets:
    - lambda
  # This module uses the aws cloudwatch metricset, all
  # the options for this metricset are also available here.
```


## Metrics [_metrics_5]

Please see more details for each metric in [lambda-cloudwatch-metric](https://docs.aws.amazon.com/lambda/latest/dg/monitoring-functions-metrics.html).

|     |     |
| --- | --- |
| Metric Name | Statistic Method |
| Invocations | Average |
| Errors | Average |
| DeadLetterErrors | Average |
| DestinationDeliveryFailures | Average |
| Duration | Average |
| Throttles | Average |
| IteratorAge | Average |
| ConcurrentExecutions | Average |
| UnreservedConcurrentExecutions | Average |
| ProvisionedConcurrentExecutions | Maximum |
| ProvisionedConcurrencyInvocations | Sum |
| ProvisionedConcurrencySpilloverInvocations | Sum |
| ProvisionedConcurrencyUtilization | Maximum |

This is a default metricset. If the host module is unconfigured, this metricset is enabled by default.

## Fields [_fields_18]

For a description of each field in the metricset, see the [exported fields](/reference/metricbeat/exported-fields-aws.md) section.

Here is an example document generated by this metricset:

```json
{
    "@timestamp": "2017-10-12T08:05:34.853Z",
    "aws": {
        "cloudwatch": {
            "namespace": "AWS/Lambda"
        },
        "dimensions": {
            "FunctionName": "ec2-owner-tagger-serverless",
            "Resource": "ec2-owner-tagger-serverless"
        },
        "lambda": {
            "metrics": {
                "Duration": {
                    "avg": 8218.073333333334
                },
                "Errors": {
                    "avg": 1
                },
                "Invocations": {
                    "avg": 1
                },
                "Throttles": {
                    "avg": 0
                }
            }
        }
    },
    "cloud": {
        "account": {
            "id": "627959692251",
            "name": "elastic-test"
        },
        "provider": "aws",
        "region": "us-west-2"
    },
    "event": {
        "dataset": "aws.lambda",
        "duration": 115000,
        "module": "aws"
    },
    "metricset": {
        "name": "lambda",
        "period": 10000
    },
    "service": {
        "type": "aws"
    }
}
```



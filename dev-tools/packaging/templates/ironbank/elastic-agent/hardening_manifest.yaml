---
apiVersion: v1

# The repository name in registry1, excluding /ironbank/
name: "elastic/beats/elastic-agent"

# List of tags to push for the repository in registry1
# The most specific version should be the first tag and will be shown
# on ironbank.dsop.io
tags:
- "{{ beat_version }}"

# Build args passed to Dockerfile ARGs
args:
  BASE_IMAGE: "redhat/ubi/ubi8"
  BASE_TAG: "8.6"
  ELASTIC_STACK: "{{ beat_version }}"
  ELASTIC_PRODUCT: "elastic-agent"

# Docker image labels
labels:
  org.opencontainers.image.title: "elastic-agent"
  ## Human-readable description of the software packaged in the image
  org.opencontainers.image.description: "elastic-agent is a single, unified way to add monitoring for logs, metrics, and other types of data to each host"
  ## License(s) under which contained software is distributed
  org.opencontainers.image.licenses: "Elastic License"
  ## URL to find more information on the image
  org.opencontainers.image.url: "https://www.elastic.co/products/beats/elastic-agent"
  ## Name of the distributing entity, organization or individual
  org.opencontainers.image.vendor: "Elastic"
  org.opencontainers.image.version: "{{ beat_version }}"
  ## Keywords to help with search (ex. "cicd,gitops,golang")
  mil.dso.ironbank.image.keywords: "log,metrics,monitoring,observabilty,o11y,oblt,beats,elastic,elasticsearch,golang"
  ## This value can be "opensource" or "commercial"
  mil.dso.ironbank.image.type: "commercial"
  ## Product the image belongs to for grouping multiple images
  mil.dso.ironbank.product.name: "elastic-agent"

# List of resources to make available to the offline build context
resources:
  - filename: "elastic-agent-{{ beat_version }}-linux-x86_64.tar.gz"
    url: "<artifact_path>/elastic-agent-{{ beat_version }}-linux-x86_64.tar.gz"
    validation:
      type: "sha512"
      value: "<insert SHA 512 here>"
  - filename: tinit
    url: https://github.com/krallin/tini/releases/download/v0.19.0/tini-amd64
    validation:
      type: sha256
      value: 93dcc18adc78c65a028a84799ecf8ad40c936fdfc5f2a57b1acda5a8117fa82c
  - filename: jq
    url: https://github.com/stedolan/jq/releases/download/jq-1.6/jq-linux64
    validation:
      type: sha256
      value: af986793a515d500ab2d35f8d2aecd656e764504b789b66d7e1a0b727a124c44

# List of project maintainers
maintainers:
  - email: "nassim.kammah@elastic.co"
    name: "Nassim Kammah"
    username: "nassim.kammah"
  - email: "ivan.fernandez@elastic.co"
    name: "Ivan Fernandez Calvo"
    username: "ivan.fernandez"
  - email: "victor.martinez@elastic.co"
    name: "Victor Martinez"
    username: "victor.martinez"

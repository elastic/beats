- name: broker
  type: group
  release: beta
  fields:
    - name: log.flush_rate
      description: The log flush rate
      type: float
    - name: mbean
      description: Mbean that this event is related to
      type: keyword
    - name: messages_in
      description: The incoming message rate
      type: float
    - name: net
      type: group
      description: >
        Network metrics
      fields:
        - name: in.bytes_per_sec
          description: The incoming byte rate
          type: float
        - name: out.bytes_per_sec
          description: The outgoing byte rate
          type: float
        - name: rejected.bytes_per_sec
          description: The rejected byte rate
          type: float
    - name: request
      type: group
      description: >
        Metrics about the requests in the broker
      fields:
        - name: channel.queue.size
          description: The size of the request queue
          type: long
        - name: produce.failed_per_second
          description: The rate of failed produce requests per second
          type: float
        - name: fetch.failed_per_second
          description: The rate of client fetch request failures per second
          type: float
        - name: produce.failed
          description: The number of failed produce requests
          type: float
        - name: fetch.failed
          description: The number of client fetch request failures
          type: float
    - name: replication
      type: group
      description: >
        Broker replication metrics
      fields:
        - name: leader_elections
          description: The leader election rate
          type: float
        - name: unclean_leader_elections
          description: The unclean leader election rate
          type: float
    - name: session
      description: >
        Zookeeper related session metrics
      type: group
      fields:
        - name: zookeeper.disconnect
          description: The ZooKeeper closed sessions per second
          type: float
        - name: zookeeper.expire
          description: The ZooKeeper expired sessions per second
          type: float
        - name: zookeeper.readonly
          description: The ZooKeeper readonly sessions per second
          type: float
        - name: zookeeper.sync
          description: The ZooKeeper client connections per second
          type: float
    - name: topic
      type: group
      description: >
        Metrics that expose topic information in the broker
      fields:
        - name: net.in.bytes_per_sec
          description: The incoming byte rate per topic
          type: float
        - name: net.out.bytes_per_sec
          description: The outgoing byte rate per topic
          type: float
        - name: net.rejected.bytes_per_sec
          description: The rejected byte rate per topic
          type: float
        - name: messages_in
          description: The incoming message rate per topic
          type: float

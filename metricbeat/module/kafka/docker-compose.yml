version: '2.3'

services:
  zookeeper:
    image: docker.elastic.co/observability-ci/beats-integration-zookeeper:${ZOOKEEPER_VERSION:-3.5.5}-1
    build:
      context: ../zookeeper/_meta
      args:
        ZOOKEEPER_VERSION: ${ZOOKEEPER_VERSION:-3.5.5}
    ports:
      - 2181

  kafka:
    image: docker.elastic.co/observability-ci/beats-integration-kafka:${KAFKA_VERSION:-2.1.1}-2
    build:
      context: ./_meta
      args:
        KAFKA_VERSION: ${KAFKA_VERSION:-2.1.1}
    depends_on:
      - zookeeper
    ports:
      - 9092

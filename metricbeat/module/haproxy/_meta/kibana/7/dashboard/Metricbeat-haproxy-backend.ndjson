{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"title":"Connections [Metricbeat HAProxy] ECS","uiStateJSON":"{}","version":1,"visState":"{\"aggs\":[],\"params\":{\"axis_formatter\":\"number\",\"axis_position\":\"left\",\"background_color_rules\":[{\"id\":\"4e35d500-471b-11e8-a520-3f46123ab5eb\"}],\"bar_color_rules\":[{\"id\":\"69899960-4719-11e8-a520-3f46123ab5eb\"}],\"filter\":{\"query\":\"haproxy.stat.component_type:(0 OR 1)\",\"language\":\"lucene\"},\"gauge_color_rules\":[{\"id\":\"6f171ba0-4719-11e8-a520-3f46123ab5eb\"}],\"gauge_inner_width\":10,\"gauge_style\":\"half\",\"gauge_width\":10,\"id\":\"61ca57f0-469d-11e7-af02-69e470af7417\",\"index_pattern\":\"metricbeat-*\",\"interval\":\"\",\"series\":[{\"axis_position\":\"right\",\"chart_type\":\"line\",\"color\":\"#68BC00\",\"fill\":0.5,\"filter\":\"\",\"formatter\":\"number\",\"id\":\"61ca57f1-469d-11e7-af02-69e470af7417\",\"label\":\"Number of connections\",\"line_width\":1,\"metrics\":[{\"field\":\"haproxy.stat.connection.total\",\"id\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"type\":\"sum\"},{\"field\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"id\":\"41ff3940-4719-11e8-a520-3f46123ab5eb\",\"type\":\"derivative\",\"unit\":\"\"},{\"field\":\"41ff3940-4719-11e8-a520-3f46123ab5eb\",\"id\":\"456a5fa0-4738-11e8-8633-8f8b3acf1566\",\"type\":\"positive_only\",\"unit\":\"\"}],\"point_size\":1,\"seperate_axis\":0,\"series_drop_last_bucket\":1,\"split_color_mode\":\"rainbow\",\"split_filters\":[{\"color\":\"#68BC00\",\"id\":\"0ceb7740-471a-11e8-a520-3f46123ab5eb\"}],\"split_mode\":\"terms\",\"stacked\":\"none\",\"terms_field\":\"haproxy.stat.proxy.name\"}],\"show_grid\":1,\"show_legend\":1,\"time_field\":\"@timestamp\",\"type\":\"timeseries\",\"use_kibana_indexes\":false},\"title\":\"HAProxy connections ECS\",\"type\":\"metrics\"}"},"coreMigrationVersion":"8.0.0","id":"a64b4fd0-471c-11e8-bc13-1397384faad3-ecs","migrationVersion":{"visualization":"7.14.0"},"references":[],"type":"visualization","updated_at":"2021-08-04T16:31:22.960Z","version":"WzM4MzYsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"title":"Active servers in backend [Metricbeat HAProxy] ECS","uiStateJSON":"{}","version":1,"visState":"{\"aggs\":[],\"params\":{\"axis_formatter\":\"number\",\"axis_position\":\"left\",\"background_color_rules\":[{\"color\":\"rgba(255,0,6,1)\",\"id\":\"1ec0dde0-471d-11e8-9876-09cc6c85f5f2\",\"operator\":\"lte\",\"value\":0},{\"color\":\"rgba(255,0,6,1)\",\"id\":\"8d345723-dc15-424c-a8df-0777fe7a4ffa\",\"operator\":\"empty\",\"value\":null}],\"bar_color_rules\":[{\"id\":\"297160c0-471d-11e8-9876-09cc6c85f5f2\"}],\"filter\":{\"query\":\"haproxy.stat.component_type:(2 OR 3)\",\"language\":\"lucene\"},\"gauge_color_rules\":[{\"gauge\":\"rgba(255,0,5,1)\",\"id\":\"4ce156a0-471d-11e8-9876-09cc6c85f5f2\",\"operator\":\"lte\",\"text\":null,\"value\":0},{\"gauge\":\"rgba(255,196,0,1)\",\"id\":\"f8458a80-4721-11e8-b854-2f6d2b452362\",\"operator\":\"lte\",\"value\":0.5},{\"gauge\":\"rgba(255,0,5,1)\",\"id\":\"99d5e990-9b29-45c9-b191-e8034fb39ec5\",\"operator\":\"empty\",\"text\":null,\"value\":null}],\"gauge_inner_width\":10,\"gauge_max\":\"1\",\"gauge_style\":\"half\",\"gauge_width\":10,\"id\":\"61ca57f0-469d-11e7-af02-69e470af7417\",\"index_pattern\":\"metricbeat-*\",\"interval\":\"auto\",\"series\":[{\"axis_position\":\"right\",\"chart_type\":\"line\",\"color\":\"#68BC00\",\"fill\":0.5,\"filter\":{\"query\":\"haproxy.stat.status:UP\",\"language\":\"lucene\"},\"formatter\":\"number\",\"id\":\"61ca57f1-469d-11e7-af02-69e470af7417\",\"label\":\"Active servers\",\"line_width\":1,\"metrics\":[{\"denominator\":\"*\",\"field\":\"haproxy.stat.server.id\",\"id\":\"b754d060-471e-11e8-9876-09cc6c85f5f2\",\"metric_agg\":\"count\",\"numerator\":\"*\",\"script\":\"params.up / (params.down + params.up)\",\"type\":\"cardinality\",\"variables\":[{\"field\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"id\":\"cfd51780-471e-11e8-9d35-6baabcdce3dc\",\"name\":\"down\"},{\"field\":\"a049c420-471e-11e8-9876-09cc6c85f5f2\",\"id\":\"45e6ec00-471f-11e8-9d35-6baabcdce3dc\",\"name\":\"up\"}]}],\"point_size\":1,\"seperate_axis\":0,\"split_mode\":\"everything\",\"stacked\":\"none\",\"terms_field\":\"haproxy.stat.proxy.name\",\"split_color_mode\":\"gradient\"},{\"axis_position\":\"right\",\"chart_type\":\"line\",\"color\":\"#68BC00\",\"fill\":0.5,\"formatter\":\"number\",\"id\":\"2cba9420-4724-11e8-b854-2f6d2b452362\",\"label\":\"Total servers\",\"line_width\":1,\"metrics\":[{\"field\":\"haproxy.stat.server.id\",\"id\":\"2cba9421-4724-11e8-b854-2f6d2b452362\",\"type\":\"cardinality\"}],\"point_size\":1,\"seperate_axis\":0,\"split_mode\":\"everything\",\"stacked\":\"none\",\"split_color_mode\":\"gradient\"}],\"show_grid\":1,\"show_legend\":1,\"time_field\":\"@timestamp\",\"type\":\"metric\",\"use_kibana_indexes\":false,\"hide_last_value_indicator\":true},\"title\":\"HAProxy active servers in backend ECS\",\"type\":\"metrics\"}"},"coreMigrationVersion":"8.0.0","id":"794b6cd0-471d-11e8-bc13-1397384faad3-ecs","migrationVersion":{"visualization":"7.14.0"},"references":[],"type":"visualization","updated_at":"2021-08-04T16:31:22.960Z","version":"WzM4MzcsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"title":"Connections per server [Metricbeat HAProxy] ECS","uiStateJSON":"{}","version":1,"visState":"{\"aggs\":[],\"params\":{\"axis_formatter\":\"number\",\"axis_position\":\"left\",\"bar_color_rules\":[{\"id\":\"978f2660-4735-11e8-b619-8f82b8185e96\"}],\"drilldown_url\":\"../app/kibana#/dashboard/8cc50a50-47e0-11e8-bc13-1397384faad3-ecs?_a=(query:(language:kuery,query:'haproxy.stat.service_name:\\\"{{ key }}\\\"'))\",\"filter\":{\"query\":\"haproxy.stat.component_type:(2 OR 3)\",\"language\":\"lucene\"},\"id\":\"61ca57f0-469d-11e7-af02-69e470af7417\",\"index_pattern\":\"metricbeat-*\",\"interval\":\"auto\",\"series\":[{\"axis_position\":\"right\",\"chart_type\":\"line\",\"color\":\"#68BC00\",\"fill\":0.5,\"formatter\":\"number\",\"id\":\"61ca57f1-469d-11e7-af02-69e470af7417\",\"label\":\"Connections per server\",\"line_width\":1,\"metrics\":[{\"field\":\"haproxy.stat.connection.total\",\"id\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"type\":\"avg\"},{\"field\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"id\":\"3ea29000-4735-11e8-b619-8f82b8185e96\",\"type\":\"derivative\",\"unit\":\"\"}],\"point_size\":1,\"seperate_axis\":0,\"split_mode\":\"terms\",\"stacked\":\"none\",\"terms_field\":\"haproxy.stat.service_name\",\"split_color_mode\":\"gradient\"}],\"show_grid\":1,\"show_legend\":1,\"time_field\":\"@timestamp\",\"type\":\"top_n\",\"use_kibana_indexes\":false,\"hide_last_value_indicator\":true},\"title\":\"HAProxy connections per server ECS\",\"type\":\"metrics\"}"},"coreMigrationVersion":"8.0.0","id":"bb0ab500-4735-11e8-bc13-1397384faad3-ecs","migrationVersion":{"visualization":"7.14.0"},"references":[],"type":"visualization","updated_at":"2021-08-04T16:31:22.960Z","version":"WzM4MzgsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"title":"Downtime seconds [Metricbeat HAProxy] ECS","uiStateJSON":"{}","version":1,"visState":"{\"aggs\":[],\"params\":{\"axis_formatter\":\"number\",\"axis_position\":\"left\",\"background_color_rules\":[{\"id\":\"c86b8e00-4739-11e8-8953-55bbe33e1362\"}],\"filter\":{\"query\":\"haproxy.stat.component_type:1\",\"language\":\"lucene\"},\"id\":\"61ca57f0-469d-11e7-af02-69e470af7417\",\"index_pattern\":\"metricbeat-*\",\"interval\":\"auto\",\"series\":[{\"axis_position\":\"right\",\"chart_type\":\"line\",\"color\":\"rgba(255,0,0,1)\",\"fill\":0.5,\"formatter\":\"number\",\"id\":\"61ca57f1-469d-11e7-af02-69e470af7417\",\"label\":\"Downtime\",\"line_width\":1,\"metrics\":[{\"field\":\"haproxy.stat.downtime\",\"id\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"type\":\"avg\"},{\"field\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"id\":\"91aa6a20-473a-11e8-8953-55bbe33e1362\",\"type\":\"derivative\",\"unit\":\"\"},{\"field\":\"91aa6a20-473a-11e8-8953-55bbe33e1362\",\"id\":\"a8ce7ca0-473a-11e8-8953-55bbe33e1362\",\"sigma\":\"\",\"type\":\"sum_bucket\"}],\"point_size\":1,\"seperate_axis\":0,\"split_mode\":\"terms\",\"stacked\":\"none\",\"terms_field\":\"haproxy.stat.proxy.name\",\"value_template\":\"{{value}}s\",\"split_color_mode\":\"gradient\"}],\"show_grid\":1,\"show_legend\":1,\"time_field\":\"@timestamp\",\"type\":\"metric\",\"use_kibana_indexes\":false,\"hide_last_value_indicator\":true},\"title\":\"HAProxy downtime seconds ECS\",\"type\":\"metrics\"}"},"coreMigrationVersion":"8.0.0","id":"40bed190-473b-11e8-bc13-1397384faad3-ecs","migrationVersion":{"visualization":"7.14.0"},"references":[],"type":"visualization","updated_at":"2021-08-04T16:31:22.960Z","version":"WzM4MzksMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"title":"Average connection time [Metricbeat HAProxy] ECS","uiStateJSON":"{}","version":1,"visState":"{\"aggs\":[],\"params\":{\"axis_formatter\":\"number\",\"axis_position\":\"left\",\"id\":\"61ca57f0-469d-11e7-af02-69e470af7417\",\"index_pattern\":\"metricbeat-*\",\"interval\":\"auto\",\"series\":[{\"axis_position\":\"right\",\"chart_type\":\"line\",\"color\":\"#68BC00\",\"fill\":\"0.1\",\"formatter\":\"number\",\"id\":\"61ca57f1-469d-11e7-af02-69e470af7417\",\"label\":\"Percentile\",\"line_width\":\"1\",\"metrics\":[{\"field\":\"haproxy.stat.connection.time.avg\",\"id\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"percentiles\":[{\"id\":\"9fa517e0-479b-11e8-9590-e34c5ed2dd95\",\"mode\":\"line\",\"percentile\":\"\",\"shade\":0.2,\"value\":\"99\"},{\"id\":\"daafd6e0-479b-11e8-9590-e34c5ed2dd95\",\"mode\":\"line\",\"percentile\":\"\",\"shade\":0.2,\"value\":\"90\"},{\"id\":\"e006b8c0-479b-11e8-9590-e34c5ed2dd95\",\"mode\":\"line\",\"percentile\":\"\",\"shade\":0.2,\"value\":\"50\"}],\"type\":\"percentile\"}],\"point_size\":1,\"seperate_axis\":0,\"split_color_mode\":\"gradient\",\"split_mode\":\"everything\",\"stacked\":\"none\",\"terms_field\":\"haproxy.stat.service_name\"}],\"show_grid\":1,\"show_legend\":1,\"time_field\":\"@timestamp\",\"type\":\"timeseries\",\"use_kibana_indexes\":false},\"title\":\"HAProxy average connection time ECS\",\"type\":\"metrics\"}"},"coreMigrationVersion":"8.0.0","id":"0751ed00-479c-11e8-bc13-1397384faad3-ecs","migrationVersion":{"visualization":"7.14.0"},"references":[],"type":"visualization","updated_at":"2021-08-04T16:31:22.960Z","version":"WzM4NDUsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"title":"Average time in queue [Metricbeat HAProxy] ECS","uiStateJSON":"{}","version":1,"visState":"{\"aggs\":[],\"params\":{\"axis_formatter\":\"number\",\"axis_position\":\"left\",\"id\":\"61ca57f0-469d-11e7-af02-69e470af7417\",\"index_pattern\":\"metricbeat-*\",\"interval\":\"auto\",\"series\":[{\"axis_position\":\"right\",\"chart_type\":\"line\",\"color\":\"#68BC00\",\"fill\":0.5,\"formatter\":\"number\",\"id\":\"61ca57f1-469d-11e7-af02-69e470af7417\",\"label\":\"Average time in queue\",\"line_width\":1,\"metrics\":[{\"field\":\"haproxy.stat.queue.time.avg\",\"id\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"type\":\"avg\"}],\"point_size\":1,\"seperate_axis\":0,\"split_mode\":\"everything\",\"stacked\":\"none\",\"split_color_mode\":\"gradient\"}],\"show_grid\":1,\"show_legend\":1,\"time_field\":\"@timestamp\",\"type\":\"timeseries\",\"use_kibana_indexes\":false},\"title\":\"HAProxy average time in queue ECS\",\"type\":\"metrics\"}"},"coreMigrationVersion":"8.0.0","id":"b3463670-47a1-11e8-bc13-1397384faad3-ecs","migrationVersion":{"visualization":"7.14.0"},"references":[],"type":"visualization","updated_at":"2021-08-04T16:31:22.960Z","version":"WzM4NDAsMV0="}
{"attributes":{"description":"HAProxy backend metrics","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[],\"highlightAll\":true,\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"version\":true}"},"optionsJSON":"{\"darkTheme\": false, \"hidePanelTitles\": false, \"useMargins\": true}","panelsJSON":"[{\"version\":\"7.3.0\",\"type\":\"visualization\",\"gridData\":{\"w\":24,\"h\":8,\"x\":0,\"y\":0,\"i\":\"1\"},\"panelIndex\":\"1\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_1\"},{\"version\":\"7.3.0\",\"type\":\"visualization\",\"gridData\":{\"w\":12,\"h\":8,\"x\":24,\"y\":0,\"i\":\"2\"},\"panelIndex\":\"2\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_2\"},{\"version\":\"7.3.0\",\"type\":\"visualization\",\"gridData\":{\"w\":24,\"h\":16,\"x\":24,\"y\":8,\"i\":\"3\"},\"panelIndex\":\"3\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_3\"},{\"version\":\"7.3.0\",\"type\":\"visualization\",\"gridData\":{\"w\":12,\"h\":8,\"x\":36,\"y\":0,\"i\":\"4\"},\"panelIndex\":\"4\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_4\"},{\"version\":\"7.3.0\",\"type\":\"visualization\",\"gridData\":{\"w\":24,\"h\":8,\"x\":0,\"y\":8,\"i\":\"5\"},\"panelIndex\":\"5\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_5\"},{\"version\":\"7.3.0\",\"type\":\"visualization\",\"gridData\":{\"w\":24,\"h\":8,\"x\":0,\"y\":16,\"i\":\"6\"},\"panelIndex\":\"6\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_6\"}]","timeRestore":false,"title":"[Metricbeat HAProxy] Backend ECS","version":1},"coreMigrationVersion":"8.0.0","id":"9151c900-471d-11e8-bc13-1397384faad3-ecs","migrationVersion":{"dashboard":"7.14.0"},"references":[{"id":"a64b4fd0-471c-11e8-bc13-1397384faad3-ecs","name":"1:panel_1","type":"visualization"},{"id":"794b6cd0-471d-11e8-bc13-1397384faad3-ecs","name":"2:panel_2","type":"visualization"},{"id":"bb0ab500-4735-11e8-bc13-1397384faad3-ecs","name":"3:panel_3","type":"visualization"},{"id":"40bed190-473b-11e8-bc13-1397384faad3-ecs","name":"4:panel_4","type":"visualization"},{"id":"0751ed00-479c-11e8-bc13-1397384faad3-ecs","name":"5:panel_5","type":"visualization"},{"id":"b3463670-47a1-11e8-bc13-1397384faad3-ecs","name":"6:panel_6","type":"visualization"}],"type":"dashboard","updated_at":"2021-08-04T16:31:16.802Z","version":"WzM4MzAsMV0="}

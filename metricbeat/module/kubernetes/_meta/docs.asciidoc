This module fetches metrics from Kubernetes several components:

- https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/[kubelet]
- https://github.com/kubernetes/kube-state-metrics[kube-state-metrics]
- https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/[apiserver]
- https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/[controller-manager]

All metricsets with the `state_` prefix require `hosts` field pointing to kube-state-metrics
service within the cluster, while the rest should be pointed to kubelet service. Check the
example configuration on how to do it.

The default metricsets are `container`, `node`, `pod`, `system` and `volume`.

[float]
=== Compability

The Kubernetes module is tested with Kubernetes 1.13.x and 1.14.x

[float]
=== Dashboard

Kubernetes module is shipped including default dashboards for `apiserver` and `controller manager`. 
If you are using HA for those components, be aware that when gathering data from all instances the dashboard will usually show and average of the metrics. For those scenarios filtering by hosts or service address is possible.

Kubernetes controller manager example:

image::./images/metricbeat-kubernetes-controllermanager.png[]

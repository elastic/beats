- name: proxy
  type: group
  description: >
    Kubernetes proxy server metrics
  release: ga
  fields:

    - name: status_code
      type: keyword
      description: >
        HTTP Code
    - name: host
      type: keyword
      description: >
        Host address
    - name: method
      type: keyword
      description: >
        HTTP method
    - name: verb
      type: keyword
      description: >
        HTTP method
    - name: url
      type: keyword
      description: >
        URL requested
    - name: handler
      type: keyword
      description: >
        HTTP request handler

    - name: process
      type: group
      description: >
        kubeproxy process metrics
      fields:
        - name: cpu.sec
          type: long
          description: >
            Total user and system CPU time spent in seconds
        - name: memory.resident.bytes
          type: long
          description: >
            Resident memory size in bytes
        - name: memory.virtual.bytes
          type: long
          description: >
            Resident memory size in bytes

    - name: http
      type: group
      description: >
        HTTP server metrics
      fields:
        - name: request.duration.us
          type: float
          description: >
            HTTP request duration
        - name: request.size.bytes
          type: long
          description: >
            HTTP request size
        - name: response.size.bytes
          type: long
          description: >
            HTTP response size
        - name: request.count
          type: long
          description: >
            Number of HTTP requests

    - name: client
      type: group
      description: >
        kubeproxy REST client metrics
      fields:
        - name: request.duration.us.sum
          type: long
          description: >
            Requests duration, sum of durations in microseconds
        - name: request.duration.us.count
          type: long
          description: >
            Request duration, number of requests
        - name: request.duration.us.bucket.*
          type: object
          object_type: long
          description: >
            Request duration, histogram buckets
        - name: request.count
          type: long
          description: >
            Number of Rest requests, broken down by URL and verb

    - name: sync
      type: group
      description: >
        kubeproxy proxy rules metrics
      fields:
        - name: rules.duration.us.sum
          type: long
          description: >
            SyncProxyRules duration, sum of durations in microseconds
        - name: rules.duration.us.count
          type: long
          description: >
            SyncProxyRules duration, number of operations
        - name: rules.duration.us.bucket.*
          type: object
          object_type: long
          description: >
            SyncProxyRules duration, histogram buckets



version: "2.3"

services:
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:${ELASTICSEARCH_VERSION:-6.5.4}
    environment:
      - "ES_JAVA_OPTS=-Xms90m -Xmx90m"
      - "network.host="
      - "transport.host=127.0.0.1"
      - "http.host=0.0.0.0"
      - "xpack.security.enabled=false"
    ports:
      - 9200
    healthcheck:
      test:
      - "CMD-SHELL"
      - "curl -f http://localhost:9200/_xpack/license"
      interval: 1s
      retries: 300

###################### Metricbeat Configuration Example #######################

# This file is an example configuration file highlighting only the most common
# options. The metricbeat.full.yml file from the same directory contains all the
# supported options with more comments. You can use it as a reference.
#
# You can find the full configuration reference here:
# https://www.elastic.co/guide/en/beats/metricbeat/index.html

#==========================  Modules configuration ============================
metricbeat.modules:

#------------------------------- System Module -------------------------------
- module: system
  metricsets:
    # CPU stats
    - cpu

    # System Load stats
    - load

    # Per CPU core stats
    #- core

    # IO stats
    #- diskio

    # Per filesystem stats
    - filesystem

    # File system summary stats
    - fsstat

    # Memory stats
    - memory

    # Network stats
    - network

    # Per process stats
    - process

    # Sockets (linux only)
    #- socket
  enabled: true
  period: 10s
  processes: ['.*']

#-------------------------------- ceph Module --------------------------------
- module: ceph
  metricsets: ["perf"]
  enabled: true
  period: 1s

ceph:  
  # location of ceph binary
  binary_path = "/usr/bin/ceph"
  #
  #####
  ### MetricSet perf gather statistics via the admin socket, requires socket_dir, mon_prefix, osd_prefix and socket_suffix
  #####
  # directory in which to look for socket files
  socket_dir = "/var/run/ceph"
  # prefix of MON and OSD socket files, used to determine socket type
  mon_prefix = "ceph-mon"
  osd_prefix = "ceph-osd"
  # suffix used to identify socket files
  socket_suffix = "asok"
  #
  #####
  ### MetricSets status,df and poolio gather statistics via ceph commands, requires ceph_user and ceph_config
  #####
  # Ceph user to authenticate as, ceph will search for the corresponding keyring
  # e.g. client.admin.keyring in /etc/ceph
  # Consult the ceph documentation for more detail on keyring generation.
  user = "client.admin"
  # Ceph configuration to use to locate the cluster
  config_path = "/etc/ceph/ceph.conf"




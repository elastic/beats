////
This file is generated! See scripts/docs_collector.py
////

[[metricbeat-module-ceph]]
== ceph Module

This is the ceph Module.

We used code/reference from:
https://github.com/influxdata/telegraf/blob/master/plugins/inputs/ceph/ceph.go
https://github.com/elastic/beats/blob/master/metricbeat/module/docker/

Thanks!


[float]
=== Example Configuration

The ceph module supports the standard configuration options that are described
in <<configuration-metricbeat>>. Here is an example configuration:

[source,yaml]
----
metricbeat.modules:
- module: ceph
  metricsets: ["perf"]
  enabled: true
  period: 1s

ceph:  
  # location of ceph binary
  binary_path = "/usr/bin/ceph"
  #
  #####
  ### MetricSet perf gather statistics via the admin socket, requires socket_dir, mon_prefix, osd_prefix and socket_suffix
  #####
  # directory in which to look for socket files
  socket_dir = "/var/run/ceph"
  # prefix of MON and OSD socket files, used to determine socket type
  mon_prefix = "ceph-mon"
  osd_prefix = "ceph-osd"
  # suffix used to identify socket files
  socket_suffix = "asok"
  #
  #####
  ### MetricSets status,df and poolio gather statistics via ceph commands, requires ceph_user and ceph_config
  #####
  # Ceph user to authenticate as, ceph will search for the corresponding keyring
  # e.g. client.admin.keyring in /etc/ceph
  # Consult the ceph documentation for more detail on keyring generation.
  user = "client.admin"
  # Ceph configuration to use to locate the cluster
  config_path = "/etc/ceph/ceph.conf"

----

[float]
=== Metricsets

The following metricsets are available:

* <<metricbeat-metricset-ceph-df,df>>

* <<metricbeat-metricset-ceph-osdpoolstats,osdpoolstats>>

* <<metricbeat-metricset-ceph-perf,perf>>

* <<metricbeat-metricset-ceph-status,status>>

include::ceph/df.asciidoc[]

include::ceph/osdpoolstats.asciidoc[]

include::ceph/perf.asciidoc[]

include::ceph/status.asciidoc[]


metricbeat:
  modules:

    # Apache Module
    # Server-status page (/server-status) is configurable string in apache and
    # must be defined by user
    - module: apache
      metricsets: ["status"]
      hosts: ["http://127.0.0.1/server-status"]
      period: 1s
      enabled: true

    # Redis Module
    - module: redis
      metricsets: ["info"]
      period: 1s
      hosts: ["127.0.0.1:6379"]
      enabled: true

      # Selectors to only fetch a subset of metrics (whitelisting)
      # If no selectors are set, all metrics are sent.
      # Use filters for a more fine grained filtering.
      #selectors: []

      # Optional fields to be added to each event
      #fields:
      #  datacenter: west

      # Network type to be used for redis connection. Default: tcp
      #network: tcp

      # Max number of concurrent connections. Default: 10
      #maxconn: 10

      #filter: ...
      #username: name
      #password: hello world
    - module: mysql
      metricsets: ["status"]
      enabled: true
      period: 2s
      hosts: ["root@tcp(127.0.0.1:3306)/"]

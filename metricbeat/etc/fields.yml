- key: common
  title: Common
  description: >
    Contains common fields available in all event types.
  fields:

    - name: metricset.module
      description: >
        The name of the module that generated the event.

    - name: metricset.name
      description: >
        The name of the metricset that generated the event.

    - name: metricset.host
      description: >
        Hostname of the machine from which the metricset was collected. This
        field may not be present when the data was collected locally.

    - name: metricset.rtt
      type: long
      required: true
      description: >
        Event round trip time in microseconds.

    - name: type
      required: true
      example: metricsets
      description: >
        The document type. Always set to "metricsets".
- key: apache
  title: "Apache"
  description: >
    Apache HTTPD server metricsets collected from the Apache web server.
  short_config: false
  fields:
    - name: apache
      type: group
      description: >
        `apache` contains the metrics that were scraped from Apache.
      fields:
        - name: status
          type: group
          description: >
            `status` contains the metrics that were scraped from the Apache status page.
          fields:
            - name: hostname
              type: keyword
              description: >
                Apache hostname.
            - name: total_accesses
              type: integer
              description: >
                Total number of access requests.
            - name: total_kbytes
              type: integer
              description: >
                Total number of kilobytes served.
            - name: requests_per_sec
              type: half_float
              description: >
                Requests per second.
            - name: bytes_per_sec
              type: float
              description: >
                Bytes per second.
            - name: bytes_per_request
              type: half_float
              description: >
                Bytes per request.
            - name: workers.busy
              type: integer
              description: >
                Number of busy workers.
            - name: workers.idle
              type: integer
              description: >
                Number of idle workers.
            - name: uptime
              type: group
              description: >
                Uptime stats.
              fields:
                - name: server_uptime
                  type: integer
                  description: >
                    Server uptime in seconds.
                - name: uptime
                  type: integer
                  description: >
                    Server uptime.
            - name: cpu
              type: group
              description: >
                CPU stats.
              fields:
                - name: load
                  type: scaled_float
                  description: >
                    CPU Load.
                - name: user
                  type: scaled_float
                  description: >
                    CPU user load.
                - name: system
                  type: scaled_float
                  description: >
                    System cpu.
                - name: children_user
                  type: scaled_float
                  description: >
                    CPU of children user.
                - name: children_system
                  type: scaled_float
                  description: >
                    CPU of children system.
            - name: connections
              type: group
              description: >
                Connection stats.
              fields:
                - name: total
                  type: integer
                  description: >
                    Total connections.
                - name: async.writing
                  type: integer
                  description: >
                    Async connection writing.
                - name: async.keep_alive
                  type: integer
                  description: >
                    Async keeped alive connections.
                - name: async.closing
                  type: integer
                  description: >
                    Async closed connections.
            - name: load
              type: group
              description: >
                Load averages.
              fields:
                - name: "1"
                  type: half_float
                  description: >
                    Load average for the last minute.
                - name: "5"
                  type: half_float
                  description: >
                    Load average for the last 5 minutes.
                - name: "15"
                  type: half_float
                  description: >
                    Load average for the last 15 minutes.
            - name: scoreboard
              type: group
              description: >
                Scoreboard metrics.
              fields:
                - name: starting_up
                  type: integer
                  description: >
                    Starting up.
                - name: reading_request
                  type: integer
                  description: >
                    Reading requests.
                - name: sending_reply
                  type: integer
                  description: >
                    Sending Reply.
                - name: keepalive
                  type: integer
                  description: >
                    Keep alive.
                - name: dns_lookup
                  type: integer
                  description: >
                    Dns Lookups.
                - name: closing_connection
                  type: integer
                  description: >
                    Closing connections.
                - name: logging
                  type: integer
                  description: >
                    Logging
                - name: gracefully_finishing
                  type: integer
                  description: >
                    Gracefully finishing.
                - name: idle_cleanup
                  type: integer
                  description: >
                    Idle cleanups.
                - name: open_slot
                  type: integer
                  description: >
                    Open slots.
                - name: waiting_for_connection
                  type: integer
                  description: >
                    Waiting for connections.
                - name: total
                  type: integer
                  description: >
                    Total.
- key: mongodb
  title: "MongoDB"
  description: >
    Metrics collected from MongoDB servers.
  short_config: false
  fields:
    - name: mongodb
      type: group
      description: >
        MongoDB metrics.
      fields:
        - name: status
          type: group
          description: >
            MongoDB server status metrics.
          fields:
            - name: version
              type: keyword
              description: >
                Instance version.
            - name: uptime.ms
              type: long
              description: >
                Instance uptime in milliseconds.
            - name: local_time
              type: date
              description: >
                Local time as reported by the MongoDB instance.

            - name: asserts.regular
              type: long
              description: >
                Number of regular assertions produced by the server.
            - name: asserts.warning
              type: long
              description: >
                Number of warning assertions produced by the server.
            - name: asserts.msg
              type: long
              description: >
                Number of msg assertions produced by the server.
            - name: asserts.user
              type: long
              description: >
                Number of user assertions produced by the server.
            - name: asserts.rollovers
              type: long
              description: >
                Number of rollovers assertions produced by the server.

            - name: background_flushing
              type: group
              description: >
                Data about the process MongoDB uses to write data to disk. This data is
                only available for instances that use the MMAPv1 storage engine.
              fields:
                - name: flushes
                  type: long
                  description: >
                     A counter that collects the number of times the database has
                     flushed all writes to disk.
                - name: total.ms
                  type: long
                  description: >
                    The total number of milliseconds (ms) that the mongod processes have
                    spent writing (i.e. flushing) data to disk. Because this is an
                    absolute value, consider the value of `flushes` and `average_ms` to
                    provide better context for this datum.
                - name: average.ms
                  type: long
                  description: >
                    The average time spent flushing to disk per flush event.
                - name: last.ms
                  type: long
                  description: >
                    The amount of time, in milliseconds, that the last flush operation
                    took to complete.
                - name: last_finished
                  type: date
                  description: >
                    A timestamp of the last completed flush operation.

            - name: connections
              type: group
              description: >
                Data regarding the current status of incoming connections and
                availability of the database server.
              fields:
                - name: current
                  type: long
                  description: >
                    The number of connections to the database server from clients. This
                    number includes the current shell session. Consider the value of
                    `available` to add more context to this datum.
                - name: available
                  type: long
                  description: >
                     The number of unused available incoming connections the database
                     can provide.
                - name: total_created
                  type: long
                  description: >
                    A count of all incoming connections created to the server. This
                    number includes connections that have since closed.

            - name: journaling
              type: group
              description: >
                Data about the journaling-related operations and performance. Journaling
                information only appears for mongod instances that use the MMAPv1
                storage engine and have journaling enabled.
              fields:
                - name: commits
                  type: long
                  description: >
                    The number of transactions written to the journal during the last
                    journal group commit interval.
                - name: journaled.mb
                  type: long
                  description: >
                    The amount of data in megabytes (MB) written to journal during the
                    last journal group commit interval.
                - name: write_to_data_files.mb
                  type: long
                  description: >
                    The amount of data in megabytes (MB) written from journal to the
                    data files during the last journal group commit interval.
                - name: compression
                  type: long
                  description: >
                    The compression ratio of the data written to the journal.
                - name: commits_in_write_lock
                  type: long
                  description: >
                    Count of the commits that occurred while a write lock was held.
                    Commits in a write lock indicate a MongoDB node under a heavy write
                    load and call for further diagnosis.
                - name: early_commits
                  type: long
                  description: >
                    The number of times MongoDB requested a commit before the scheduled
                    journal group commit interval.
                - name: times
                  type: group
                  description: >
                    Information about the performance of the mongod instance during the
                    various phases of journaling in the last journal group commit
                    interval.
                  fields:
                    - name: dt.ms
                      type: long
                      description: >
                        The amount of time over which MongoDB collected the times data.
                        Use this field to provide context to the other times field values.
                    - name: prep_log_buffer.ms
                      type: long
                      description: >
                        The amount of time spent preparing to write to the journal.
                        Smaller values indicate better journal performance.
                    - name: write_to_journal.ms
                      type: long
                      description: >
                        The amount of time spent actually writing to the journal. File
                        system speeds and device interfaces can affect performance.
                    - name: write_to_data_files.ms
                      type: long
                      description: >
                        The amount of time spent writing to data files after journaling.
                        File system speeds and device interfaces can affect performance.
                    - name: remap_private_view.ms
                      type: long
                      description: >
                        The amount of time spent remapping copy-on-write memory mapped
                        views. Smaller values indicate better journal performance.
                    - name: commits.ms
                      type: long
                      description: >
                        The amount of time spent for commits.
                    - name: commits_in_write_lock.ms
                      type: long
                      description: >
                        The amount of time spent for commits that occurred while a write
                        lock was held.

            - name: extra_info
              type: group
              description: >
                Platform specific data.
              fields:
                - name: heap_usage.bytes
                  type: long
                  format: bytes
                  description: >
                    The total size in bytes of heap space used by the database process.
                    Only available on Unix/Linux.
                - name: page_faults
                  type: long
                  description: >
                    The total number of page faults that require disk operations. Page
                    faults refer to operations that require the database server to
                    access data that isn't available in active memory.

            - name: network
              type: group
              description: >
                Platform specific data.
              fields:
                - name: in.bytes
                  type: long
                  format: bytes
                  description: >
                    The amount of network traffic, in bytes, received by this database.
                - name: out.bytes
                  type: long
                  format: bytes
                  description: >
                    The amount of network traffic, in bytes, sent from this database.
                - name: requests
                  type: long
                  description: >
                    The total number of requests received by the server.

            - name: opcounters
              type: group
              description: >
                An overview of database operations by type.
              fields:
                - name: insert
                  type: long
                  description: >
                    The total number of insert operations received since the mongod
                    instance last started.
                - name: query
                  type: long
                  description: >
                    The total number of queries received since the mongod instance last
                    started.
                - name: update
                  type: long
                  description: >
                    The total number of update operations received since the mongod
                    instance last started.
                - name: delete
                  type: long
                  description: >
                    The total number of delete operations received since the mongod
                    instance last started.
                - name: getmore
                  type: long
                  description: >
                    The total number of getmore operations received since the mongod
                    instance last started.
                - name: command
                  type: long
                  description: >
                    The total number of commands issued to the database since the mongod
                    instance last started.

            - name: opcounters_replicated
              type: group
              description: >
                An overview of database replication operations by type.
              fields:
                - name: insert
                  type: long
                  description: >
                    The total number of replicated insert operations received since the
                    mongod instance last started.
                - name: query
                  type: long
                  description: >
                    The total number of replicated queries received since the mongod
                    instance last started.
                - name: update
                  type: long
                  description: >
                    The total number of replicated update operations received since the
                    mongod instance last started.
                - name: delete
                  type: long
                  description: >
                    The total number of replicated delete operations received since the
                    mongod instance last started.
                - name: getmore
                  type: long
                  description: >
                    The total number of replicated getmore operations received since the
                    mongod instance last started.
                - name: command
                  type: long
                  description: >
                    The total number of replicated commands issued to the database since
                    the mongod instance last started.

            - name: memory
              type: group
              description: >
                Data about the current memory usage of the mongod server.
              fields:
                - name: bits
                  type: long
                  description: >
                    Either 64 or 32, depending on which target architecture was specified
                    during the mongod compilation process.
                - name: resident.mb
                  type: long
                  description: >
                    The amount of RAM, in megabytes (MB), currently used by the database
                    process.
                - name: virtual.mb
                  type: long
                  description: >
                   The amount, in megabytes (MB), of virtual memory used by the mongod
                   process.
                - name: mapped.mb
                  type: long
                  description: >
                    The amount of mapped memory, in megabytes (MB), used by the database.
                    Because MongoDB uses memory-mapped files, this value is likely to be
                    to be roughly equivalent to the total size of your database or
                    databases.
                - name: mapped_with_journal.mb
                  type: long
                  description: >
                    The amount of mapped memory, in megabytes (MB), including the memory
                    used for journaling.
            - name: write_backs_queued
              type: boolean
              description: >
                True when there are operations from a mongos instance queued for retrying.
            - name: storage_engine.name
              type: keyword
              description: >
                A string that represents the name of the current storage engine.








- key: mysql
  title: "MySQL"
  description: >
    MySQL server status metrics collected from MySQL.
  short_config: false
  fields:
    - name: mysql
      type: group
      description: >
        `mysql` contains the metrics that were obtained from MySQL
        query.
      fields:
        - name: status
          type: group
          description: >
            `status` contains the metrics that were obtained by the status SQL query.
          fields:
            - name: aborted
              type: group
              description: >
                Aborted status fields.
              fields:
                - name: clients
                  type: integer
                  description: >
                    The number of connections that were aborted because the client died without closing the connection properly.

                - name: connects
                  type: integer
                  description: >
                    The number of failed attempts to connect to the MySQL server.

            - name: binlog
              type: group
              description: >
              fields:
                - name: cache.disk_use
                  type: integer
                  description: >

                - name: cache.use
                  type: integer
                  description: >

            - name: bytes
              type: group
              description: >
                Bytes stats.
              fields:
                - name: received
                  format: bytes
                  type: integer
                  description: >
                    The number of bytes received from all clients.

                - name: sent
                  type: integer
                  format: bytes
                  description: >
                    The number of bytes sent to all clients.

            - name: connections
              type: integer
              description: >

            - name: created
              type: group
              description: >
              fields:
                - name: tmp.disk_tables
                  type: integer
                  description: >

                - name: tmp.files
                  type: integer
                  description: >

                - name: tmp.tables
                  type: integer
                  description: >

            - name: delayed
              type: group
              description: >
              fields:
                - name: errors
                  type: integer
                  description: >

                - name: insert_threads
                  type: integer
                  description: >

                - name: writes
                  type: integer
                  description: >

            - name: flush_commands
              type: integer
              description: >

            - name: max_used_connections
              type: integer
              description: >

            - name: open
              type: group
              description: >
              fields:
                - name: files
                  type: integer
                  description: >

                - name: streams
                  type: integer
                  description: >

                - name: tables
                  type: integer
                  description: >

            - name: opened_tables
              type: integer
              description: >
- key: nginx
  title: "Nginx"
  description: >
    Nginx server status metrics collected from various modules.
  short_config: false
  fields:
    - name: nginx
      type: group
      description: >
        `nginx` contains the metrics that were scraped from nginx.
      fields:
        - name: stubstatus
          type: group
          description: >
            `stubstatus` contains the metrics that were scraped from the ngx_http_stub_status_module status page.
          fields:
            - name: hostname
              type: keyword
              description: >
                Nginx hostname.
            - name: active
              type: integer
              description: >
                The current number of active client connections including Waiting connections.
            - name: accepts
              type: integer
              description: >
                The total number of accepted client connections.
            - name: handled
              type: integer
              description: >
                The total number of handled client connections.
            - name: dropped
              type: integer
              description: >
                The total number of dropped client connections.
            - name: requests
              type: integer
              description: >
                The total number of client requests.
            - name: current
              type: integer
              description: >
                The current number of client requests.
            - name: reading
              type: integer
              description: >
                The current number of connections where Nginx is reading the request header.
            - name: writing
              type: integer
              description: >
                The current number of connections where Nginx is writing the response back to the client.
            - name: waiting
              type: integer
              description: >
                The current number of idle client connections waiting for a request.
- key: redis
  title: "Redis"
  description: >
    Redis metrics collected from Redis.
  short_config: false
  fields:
    - name: redis
      type: group
      description: >
        `redis` contains the information and statistics from Redis.
      fields:
        - name: info
          type: group
          description: >
            `info` contains the information and statistics returned by the `INFO` command.
          fields:
            - name: clients
              type: group
              description: >
                Redis client stats.
              fields:
                - name: connected
                  type: integer
                  description: >
                    Number of client connections (excluding connections from slaves).

                - name: longest_output_list
                  type: integer
                  description: >
                    Longest output list among current client connections.

                - name: biggest_input_buf
                  type: integer
                  description: >
                    Biggest input buffer among current client connections.

                - name: blocked
                  type: integer
                  description: >
                    Number of clients pending on a blocking call (BLPOP, BRPOP, BRPOPLPUSH).

            - name: cluster
              type: group
              description: >
                Redis cluster information.
              fields:
                - name: enabled
                  type: boolean
                  description: >
                    Indicates that the Redis cluster is enabled.

            - name: cpu
              type: group
              description: >
                Redis CPU stats
              fields:
                - name: used.sys
                  type: half_float
                  description: >
                    System CPU consumed by the Redis server.

                - name: used.sys_children
                  type: half_float
                  description: >
                    User CPU consumed by the Redis server.

                - name: used.user
                  type: half_float
                  description: >
                    System CPU consumed by the background processes.

                - name: used.user_children
                  type: half_float
                  description: >
                    User CPU consumed by the background processes.

            - name: memory
              type: group
              description: >
                Redis CPU stats.
              fields:
                - name: used.value
                  type: integer
                  description: >
                    Used memory.

                - name: used.rss
                  type: integer
                  description: >
                    Used memory rss.

                - name: used.peak
                  type: integer
                  description: >
                    Used memory peak.

                - name: used.lua
                  type: integer
                  description: >
                    Used memory lua.

                - name: allocator
                  type: keyword
                  description: >
                    Memory allocator.

            - name: persistence
              type: group
              description: >
                Redis CPU stats.
              fields:
                - name: loading
                  type: boolean
                  description:

                - name: rdb.changes_since_last_save
                  type: integer
                  description:

                - name: rdb.bgsave_in_progress
                  type: boolean
                  description:

                - name: rdb.last_save_time
                  type: integer
                  description:

                - name: rdb.last_bgsave_status
                  type: keyword
                  description:

                - name: rdb.last_bgsave_time_sec
                  type: integer
                  description:

                - name: rdb.current_bgsave_time_sec
                  type: integer
                  description:

                - name: aof.enabled
                  type: boolean
                  description:

                - name: aof.rewrite_in_progress
                  type: boolean
                  description:

                - name: aof.rewrite_scheduled
                  type: boolean
                  description:

                - name: aof.last_rewrite_time_sec
                  type: integer
                  description:

                - name: aof.current_rewrite_time_sec
                  type: integer
                  description:

                - name: aof.last_bgrewrite_status
                  type: keyword
                  description:

                - name: aof.last_write_status
                  type: keyword
                  description:

            - name: replication
              type: group
              description: >
                Replication
              fields:
                - name: role
                  type: keyword
                  description:

                - name: connected_slaves
                  type: integer
                  description:

                - name: master_offset
                  type: integer
                  description:

                - name: backlog.active
                  type: integer
                  description:

                - name: backlog.size
                  type: integer
                  description:

                - name: backlog.first_byte_offset
                  type: integer
                  description:

                - name: backlog.histlen
                  type: integer
                  description:

            - name: server
              type: group
              description: >
                Server info
              fields:
                - name: version
                  type: keyword
                  description:

                - name: git_sha1
                  type: keyword
                  description:

                - name: git_dirty
                  type: keyword
                  description:

                - name: build_id
                  type: keyword
                  description:

                - name: mode
                  type: keyword
                  description:

                - name: os
                  type: keyword
                  description:

                - name: arch_bits
                  type: keyword
                  description:

                - name: multiplexing_api
                  type: keyword
                  description:

                - name: gcc_version
                  type: keyword
                  description:

                - name: process_id
                  type: integer
                  description:

                - name: run_id
                  type: keyword
                  description:

                - name: tcp_port
                  type: integer
                  description:

                - name: uptime
                  type: integer
                  description:

                - name: hz
                  type: integer
                  description:

                - name: lru_clock
                  type: integer
                  description:

                - name: config_file
                  type: keyword
                  description:

            - name: stats
              type: group
              description: >
                Redis stats.
              fields:
                - name: connections.received
                  type: integer
                  description:

                - name: connections.rejected
                  type: integer
                  description:

                - name: total_commands_processed
                  type: integer
                  description:

                - name: total_net_input_bytes
                  type: integer
                  description:

                - name: total_net_output_bytes
                  type: integer
                  description:

                - name: instantaneous_ops_per_sec
                  type: integer
                  description:

                - name: instantaneous_input_kbps
                  type: float
                  description:

                - name: instantaneous_output_kbps
                  type: float
                  description:

                - name: sync.full
                  type: integer
                  description:

                - name: sync.partial_ok
                  type: integer
                  description:

                - name: sync.partial_err
                  type: integer
                  description:

                - name: keys.expired
                  type: integer
                  description:

                - name: keys.evicted
                  type: integer
                  description:

                - name: keyspace.hits
                  type: integer
                  description:

                - name: keyspace.misses
                  type: integer
                  description:

                - name: pubsub_channels
                  type: integer
                  description:

                - name: pubsub_patterns
                  type: integer
                  description:

                - name: latest_fork_usec
                  type: integer
                  description:

                - name: migrate_cached_sockets
                  type: integer
                  description:

        - name: keyspace
          type: group
          description: >
            `keyspace` contains the information about the keyspaces returned by the `INFO` command.
          fields:
            - name: id
              type: keyword
              description: >
                Keyspace identifier.

            - name: avg_ttl
              type: long
              description: >
                Average ttl.

            - name: keys
              type: long
              description: >
                Number of keys in the keyspace.

            - name: expires
              type: long
              description: >
- key: system
  title: "System"
  description: >
    System status metrics, like CPU and memory usage, that are collected from the operating system.
  fields:
    - name: system
      type: group
      description: >
        `system` contains local system metrics.
      fields:
        - name: core
          type: group
          description: >
            `system-core` contains local CPU core stats.
          fields:
            - name: id
              type: integer
              description: >
                CPU Core number.

            - name: user.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in user space. On multi-core systems, you can have percentages that are greater than 100%.
                For example, if 3 cores are at 60% use, then the `cpu.user_p` will be 180%.

            - name: user.ticks
              type: long
              description: >
               The amount of CPU time spent in user space.

            - name: system.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in kernel space.

            - name: system.ticks
              type: long
              description: >
                The amount of CPU time spent in kernel space.

            - name: nice.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent on low-priority processes.

            - name: nice.ticks
              type: long
              description: >
                The amount of CPU time spent on low-priority processes.

            - name: idle.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent idle.

            - name: idle.ticks
              type: long
              description: >
                The amount of CPU time spent idle.

            - name: iowait.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in wait (on disk).

            - name: iowait.ticks
              type: long
              description: >
                The amount of CPU time spent in wait (on disk).

            - name: irq.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent servicing and handling hardware interrupts.

            - name: irq.ticks
              type: long
              description: >
                The amount of CPU time spent servicing and handling hardware interrupts.

            - name: softirq.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent servicing and handling software interrupts.

            - name: softirq.ticks
              type: long
              description: >
                The amount of CPU time spent servicing and handling software interrupts.

            - name: steal.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in involuntary wait by the virtual CPU while the hypervisor
                was servicing another processor.
                Available only on Unix.

            - name: steal.ticks
              type: long
              description: >
                The amount of CPU time spent in involuntary wait by the virtual CPU while the hypervisor
                was servicing another processor.
                Available only on Unix.

        - name: cpu
          type: group
          description: >
            `cpu` contains local CPU stats.
          fields:
            - name: user.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in user space. On multi-core systems, you can have percentages that are greater than 100%.
                For example, if 3 cores are at 60% use, then the `cpu.user_p` will be 180%.

            - name: system.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in kernel space.

            - name: nice.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent on low-priority processes.

            - name: idle.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent idle.

            - name: iowait.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in wait (on disk).

            - name: irq.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent servicing and handling hardware interrupts.

            - name: softirq.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent servicing and handling software interrupts.

            - name: steal.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in involuntary wait by the virtual CPU while the hypervisor
                was servicing another processor.
                Available only on Unix.

            - name: user.ticks
              type: long
              description: >
               The amount of CPU time spent in user space.

            - name: system.ticks
              type: long
              description: >
                The amount of CPU time spent in kernel space.

            - name: nice.ticks
              type: long
              description: >
                The amount of CPU time spent on low-priority processes.

            - name: idle.ticks
              type: long
              description: >
                The amount of CPU time spent idle.

            - name: iowait.ticks
              type: long
              description: >
                The amount of CPU time spent in wait (on disk).

            - name: irq.ticks
              type: long
              description: >
                The amount of CPU time spent servicing and handling hardware interrupts.

            - name: softirq.ticks
              type: long
              description: >
                The amount of CPU time spent servicing and handling software interrupts.

            - name: steal.ticks
              type: long
              description: >
                The amount of CPU time spent in involuntary wait by the virtual CPU while the hypervisor
                was servicing another processor.
                Available only on Unix.
        - name: diskio
          type: group
          description: >
            `disk` contains disk IO metrics collected from the operating system.
          fields:
            - name: name
              type: keyword
              example: sda1
              description: >
                The disk name.

            - name: serial_number
              type: keyword
              description: >
                The disk's serial number. This may not be provided by all operating
                systems.

            - name: read.count
              type: long
              description: >
                The total number of reads completed successfully.

            - name: write.count
              type: long
              description: >
                The total number of writes completed successfully.

            - name: read.bytes
              type: long
              format: bytes
              description: >
                The total number of bytes read successfully. On Linux this is
                the number of sectors read multiplied by an assumed sector size of 512.

            - name: write.bytes
              type: long
              format: bytes
              description: >
                The total number of bytes written successfully. On Linux this is
                the number of sectors written multiplied by an assumed sector size of
                512.

            - name: read.time
              type: long
              description: >
                The total number of milliseconds spent by all reads.

            - name: write.time
              type: long
              description: >
                The total number of milliseconds spent by all writes.

            - name: io.time
              type: long
              description: >
                The total number of of milliseconds spent doing I/Os.
        - name: filesystem
          type: group
          description: >
            `filesystem` contains local filesystem stats.
          fields:
            - name: available
              type: long
              format: bytes
              description: >
                The disk space available to an unprivileged user in bytes.
            - name: device_name
              type: keyword
              description: >
                The disk name. For example: `/dev/disk1`
            - name: mount_point
              type: keyword
              description: >
                The mounting point. For example: `/`
            - name: files
              type: long
              description: >
                The total number of file nodes in the file system.
            - name: free
              type: long
              format: bytes
              description: >
                The disk space available in bytes.
            - name: free_files
              type: long
              description: >
                The number of free file nodes in the file system.
            - name: total
              type: long
              format: bytes
              description: >
                The total disk space in bytes.
            - name: used.bytes
              type: long
              format: bytes
              description: >
                The used disk space in bytes.
            - name: used.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of used disk space.


        - name: fsstat
          type: group
          description: >
            `system.fsstat` contains filesystem metrics aggregated from all mounted
            filesystems.
          fields:
            - name: count
              type: long
              description: Number of file systems found.
            - name: total_files
              type: long
              description: Total number of files.
            - name: total_size
              format: bytes
              type: group
              description: Nested file system docs.
              fields:
                - name: free
                  type: long
                  format: bytes
                  description: >
                    Total free space.
                - name: used
                  type: long
                  format: bytes
                  description: >
                    Total used space.
                - name: total
                  type: long
                  format: bytes
                  description: >
                    Total space (used plus free).
        - name: load
          type: group
          description: >
            Load averages.
          fields:
            - name: "1"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load average for the last minute.
            - name: "5"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load average for the last 5 minutes.
            - name: "15"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load average for the last 15 minutes.

            - name: "norm.1"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load divided by the number of cores for the last minute.

            - name: "norm.5"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load divided by the number of cores for the last 5 minutes.

            - name: "norm.15"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load divided by the number of cores for the last 15 minutes.
        - name: memory
          type: group
          description: >
            `memory` contains local memory stats.
          fields:
            - name: total
              type: long
              format: bytes
              description: >
                Total memory.

            - name: used.bytes
              type: long
              format: bytes
              description: >
                Used memory.

            - name: free
              type: long
              format: bytes
              description: >
                The total amount of free memory in bytes. This value does not include memory consumed by system caches and
                buffers (see system.memory.actual.free).

            - name: used.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of used memory.

            - name: actual
              type: group
              description: >
                Actual memory used and free.
              fields:

                - name: used.bytes
                  type: long
                  description: >
                    Actual used memory in bytes. It represents the difference between the total and the available memory. The
                    available memory depends on the OS. For more details, please check `system.actual.free`.
 
                - name: free
                  type: long
                  description: >
                    Actual free memory in bytes. It is calculated based on the OS. On Linux it consists of the free memory
                    plus caches and buffers. On OSX it is a sum of free memory and the inactive memory. On Windows, it is the 
                    amount of unreserved and uncommitted memory currently in the user-mode portion of the virtual address space
                    of the calling process.

                - name: used.pct
                  type: scaled_float
                  description: >
                    The percentage of actual used memory.

            - name: swap
              type: group
              prefix: "[float]"
              description: This group contains statistics related to the swap memory usage on the system.
              fields:
                - name: total
                  type: long
                  format: bytes
                  description: >
                    Total swap memory.

                - name: used.bytes
                  type: long
                  format: bytes
                  description: >
                    Used swap memory.

                - name: free
                  type: long
                  format: bytes
                  description: >
                    Available swap memory.

                - name: used.pct
                  type: scaled_float
                  format: percent
                  description: >
                    The percentage of used swap memory.
        - name: network
          type: group
          description: >
            `network` contains network IO metrics for a single network interface.
          fields:
            - name: name
              type: keyword
              example: eth0
              description: >
                The network interface name.

            - name: out.bytes
              type: long
              format: bytes
              description: >
                The number of bytes sent.

            - name: in.bytes
              type: long
              format: bytes
              description: >
                The number of bytes received.

            - name: out.packets
              type: long
              description: >
                The number of packets sent.

            - name: in.packets
              type: long
              description: >
                The number or packets received.

            - name: in.errors
              type: long
              description: >
                The number of errors while receiving.

            - name: out.errors
              type: long
              description: >
                The number of errors while sending.

            - name: in.dropped
              type: long
              description: >
                The number of incoming packets that were dropped.

            - name: out.dropped
              type: long
              description: >
                The number of outgoing packets that were dropped. This value is always
                0 on Darwin and BSD because it is not reported by the operating system.
        - name: process
          type: group
          description: >
            `process` contains process metadata, CPU metrics, and memory metrics.
          fields:
            - name: name
              type: keyword
              description: >
                The process name.
            - name: state
              type: keyword
              description: >
                The process state. For example: "running".
            - name: pid
              type: integer
              description: >
                The process pid.
            - name: ppid
              type: integer
              description: >
                The process parent pid.
            - name: pgid
              type: integer
              description: >
                The process group id.
            - name: cmdline
              type: keyword
              description: >
                The full command-line used to start the process, including the
                arguments separated by space.
            - name: username
              type: keyword
              description: >
                The username of the user that created the process. If the username
                cannot be determined, the field will contain the user's
                numeric identifier (UID). On Windows, this field includes the user's
                domain and is formatted as `domain\username`.
            - name: cpu
              type: group
              prefix: "[float]"
              description: CPU-specific statistics per process.
              fields:
                - name: user
                  type: long
                  description: >
                    The amount of CPU time the process spent in user space.
                - name: total.pct
                  type: scaled_float
                  format: percent
                  description: >
                    The percentage of CPU time spent by the process since the last update. Its value is similar to the
                    %CPU value of the process displayed by the top command on Unix systems.
                - name: system
                  type: long
                  description: >
                    The amount of CPU time the process spent in kernel space.
                - name: total.ticks
                  type: long
                  description: >
                    The total CPU time spent by the process.
                - name: start_time
                  type: date
                  description: >
                    The time when the process was started.
            - name: memory
              type: group
              description: Memory-specific statistics per process.
              prefix: "[float]"
              fields:
                - name: size
                  type: long
                  format: bytes
                  description: >
                    The total virtual memory the process has.
                - name: rss.bytes
                  type: long
                  format: bytes
                  description: >
                    The Resident Set Size. The amount of memory the process occupied in main memory (RAM).
                - name: rss.pct
                  type: scaled_float
                  format: percent
                  description: >
                    The percentage of memory the process occupied in main memory (RAM).
                - name: share
                  type: long
                  format: bytes
                  description: >
                    The shared memory the process uses.
            - name: cgroup
              type: group
              description: >
                Metrics and limits from the cgroup of which the task is a member.
                cgroup metrics are reported when the process has membership in a
                non-root cgroup. These metrics are only available on Linux.
              fields:
                - name: id
                  type: keyword
                  description: >
                    The ID common to all cgroups associated with this task.
                    If there isn't a common ID used by all cgroups this field will be
                    absent.

                - name: path
                  type: keyword
                  description: >
                    The path to the cgroup relative to the cgroup subsystem's mountpoint.
                    If there isn't a common path used by all cgroups this field will be
                    absent.

                - name: cpu
                  type: group
                  description: >
                    The cpu subsystem schedules CPU access for tasks in the cgroup.
                    Access can be controlled by two separate schedulers, CFS and RT.
                    CFS stands for completely fair scheduler which proportionally
                    divides the CPU time between cgroups based on weight. RT stands for
                    real time scheduler which sets a maximum amount of CPU time that
                    processes in the cgroup can consume during a given period.

                  fields:
                    - name: id
                      type: keyword
                      description: ID of the cgroup.

                    - name: path
                      type: keyword
                      description: >
                        Path to the cgroup relative to the cgroup subsystem's
                        mountpoint.

                    - name: cfs.period.us
                      type: long
                      description: >
                        Period of time in microseconds for how regularly a
                        cgroup's access to CPU resources should be reallocated.

                    - name: cfs.quota.us
                      type: long
                      description: >
                        Total amount of time in microseconds for which all
                        tasks in a cgroup can run during one period (as defined by
                        cfs.period.us).

                    - name: cfs.shares
                      type: long
                      description: >
                        An integer value that specifies a relative share of CPU time
                        available to the tasks in a cgroup. The value specified in the
                        cpu.shares file must be 2 or higher.

                    - name: rt.period.us
                      type: long
                      description: >
                        Period of time in microseconds for how regularly a cgroup's
                        access to CPU resources is reallocated.

                    - name: rt.runtime.us
                      type: long
                      description: >
                        Period of time in microseconds for the longest continuous period
                        in which the tasks in a cgroup have access to CPU resources.

                    - name: stats.periods
                      type: long
                      description: >
                        Number of period intervals (as specified in cpu.cfs.period.us)
                        that have elapsed.

                    - name: stats.throttled.periods
                      type: long
                      description: >
                        Number of times tasks in a cgroup have been throttled (that is,
                        not allowed to run because they have exhausted all of the
                        available time as specified by their quota).

                    - name: stats.throttled.nanos
                      type: long
                      description: >
                        The total time duration (in nanoseconds) for which tasks in a
                        cgroup have been throttled.

                - name: cpuacct
                  type: group
                  description: CPU accounting metrics.
                  fields:
                    - name: id
                      type: keyword
                      description: ID of the cgroup.

                    - name: path
                      type: keyword
                      description: >
                        Path to the cgroup relative to the cgroup subsystem's
                        mountpoint.

                    - name: total.nanos
                      type: long
                      description: >
                        Total CPU time in nanoseconds consumed by all tasks in the
                        cgroup.

                    - name: stats.user.nanos
                      type: long
                      description: CPU time consumed by tasks in user mode.

                    - name: stats.system.nanos
                      type: long
                      description: CPU time consumed by tasks in user (kernel) mode.

                    - name: percpu
                      type: dict
                      dict-type: long
                      description: >
                        CPU time (in nanoseconds) consumed on each CPU by all tasks in
                        this cgroup.

                - name: memory
                  type: group
                  description: Memory limits and metrics.
                  fields:
                    - name: id
                      type: keyword
                      description: ID of the cgroup.

                    - name: path
                      type: keyword
                      description: >
                        Path to the cgroup relative to the cgroup subsystem's mountpoint.

                    - name: mem.usage.bytes
                      type: long
                      description: >
                        Total memory usage by processes in the cgroup (in bytes).

                    - name: mem.usage.max.bytes
                      type: long
                      description: >
                        The maximum memory used by processes in the cgroup (in bytes).

                    - name: mem.limit.bytes
                      type: long
                      description: >
                        The maximum amount of user memory in bytes (including file
                        cache) that tasks in the cgroup are allowed to use.

                    - name: mem.failures
                      type: long
                      description: >
                        The number of times that the memory limit (mem.limit.bytes) was
                        reached.

                    - name: memsw.usage.bytes
                      type: long
                      description: >
                        The sum of current memory usage plus swap space used by
                        processes in the cgroup (in bytes).

                    - name: memsw.usage.max.bytes
                      type: long
                      description: >
                        The maximum amount of memory and swap space used by processes in
                        the cgroup (in bytes).

                    - name: memsw.limit.bytes
                      type: long
                      description: >
                        The maximum amount for the sum of memory and swap usage
                        that tasks in the cgroup are allowed to use.

                    - name: memsw.failures
                      type: long
                      description: >
                        The number of times that the memory plus swap space limit
                        (memsw.limit.bytes) was reached.

                    - name: kmem.usage.bytes
                      type: long
                      description: >
                        Total kernel memory usage by processes in the cgroup (in bytes).

                    - name: kmem.usage.max.bytes
                      type: long
                      description: >
                        The maximum kernel memory used by processes in the cgroup (in
                        bytes).

                    - name: kmem.limit.bytes
                      type: long
                      description: >
                        The maximum amount of kernel memory that tasks in the cgroup are
                        allowed to use.

                    - name: kmem.failures
                      type: long
                      description: >
                        The number of times that the memory limit (kmem.limit.bytes) was
                        reached.

                    - name: kmem_tcp.usage.bytes
                      type: long
                      description: >
                        Total memory usage for TCP buffers in bytes.

                    - name: kmem_tcp.usage.max.bytes
                      type: long
                      description: >
                        The maximum memory used for TCP buffers by processes in the
                        cgroup (in bytes).

                    - name: kmem_tcp.limit.bytes
                      type: long
                      description: >
                        The maximum amount of memory for TCP buffers that tasks in the
                        cgroup are allowed to use.

                    - name: kmem_tcp.failures
                      type: long
                      description: >
                        The number of times that the memory limit (kmem_tcp.limit.bytes)
                        was reached.

                    - name: stats.active_anon.bytes
                      type: long
                      description: >
                        Anonymous and swap cache on active least-recently-used (LRU)
                        list, including tmpfs (shmem), in bytes.

                    - name: stats.active_file.bytes
                      type: long
                      description: File-backed memory on active LRU list, in bytes.

                    - name: stats.cache.bytes
                      type: long
                      description: Page cache, including tmpfs (shmem), in bytes.

                    - name: stats.hierarchical_memory_limit.bytes
                      type: long
                      description: >
                        Memory limit for the hierarchy that contains the memory cgroup,
                        in bytes.

                    - name: stats.hierarchical_memsw_limit.bytes
                      type: long
                      description: >
                        Memory plus swap limit for the hierarchy that contains the
                        memory cgroup, in bytes.

                    - name: stats.inactive_anon.bytes
                      type: long
                      description: >
                        Anonymous and swap cache on inactive LRU list, including tmpfs
                        (shmem), in bytes

                    - name: stats.inactive_file.bytes
                      type: long
                      description: >
                        File-backed memory on inactive LRU list, in bytes.

                    - name: stats.mapped_file.bytes
                      type: long
                      description: >
                        Size of memory-mapped mapped files, including tmpfs (shmem),
                        in bytes.

                    - name: stats.page_faults
                      type: long
                      description: >
                        Number of times that a process in the cgroup triggered a page
                        fault.

                    - name: stats.major_page_faults
                      type: long
                      description: >
                        Number of times that a process in the cgroup triggered a major
                        fault. "Major" faults happen when the kernel actually has to
                        read the data from disk.

                    - name: stats.pages_in
                      type: long
                      description: >
                        Number of pages paged into memory. This is a counter.

                    - name: stats.pages_out
                      type: long
                      description: >
                        Number of pages paged out of memory. This is a counter.

                    - name: stats.rss.bytes
                      type: long
                      description: >
                        Anonymous and swap cache (includes transparent hugepages), not
                        including tmpfs (shmem), in bytes.

                    - name: stats.rss_huge.bytes
                      type: long
                      description: >
                        Number of bytes of anonymous transparent hugepages.

                    - name: stats.swap.bytes
                      type: long
                      description: >
                        Swap usage, in bytes.

                    - name: stats.unevictable.bytes
                      type: long
                      description: >
                        Memory that cannot be reclaimed, in bytes.

                - name: blkio
                  type: group
                  description: Block IO metrics.
                  fields:
                    - name: id
                      type: keyword
                      description: ID of the cgroup.

                    - name: path
                      type: keyword
                      description: >
                        Path to the cgroup relative to the cgroup subsystems mountpoint.

                    - name: total.bytes
                      type: keyword
                      description: >
                        Total number of bytes transferred to and from all block devices
                        by processes in the cgroup.

                    - name: total.ios
                      type: keyword
                      description: >
                        Total number of I/O operations performed on all devices
                        by processes in the cgroup as seen by the throttling policy.
- key: zookeeper
  title: "ZooKeeper"
  description: >
    ZooKeeper metrics collected by the four-letter monitoring commands.
  short_config: false
  fields:
    - name: zookeeper
      type: group
      description: >
        `zookeeper` contains the metrics reported by ZooKeeper
        commands.
      fields:
        - name: mntr
          type: group
          description: >
            `mntr` contains the metrics reported by the four-letter `mntr`
            command.
          fields:
            - name: hostname
              type: keyword
              description: >
                ZooKeeper hostname.
            - name: approximate_data_size
              type: long
              description: >
                Approximate size of ZooKeeper data.
            - name: latency.avg
              type: integer
              description: >
                Average latency between ensemble hosts in milliseconds.
            - name: ephemerals_count
              type: integer
              description: >
                Number of ephemeral znodes.
            - name: followers
              type: integer
              description: >
                Number of followers seen by the current host.
            - name: max_file_descriptor_count
              type: integer
              description: >
                Maximum number of file descriptors allowed for the ZooKeeper process.
            - name: latency.max
              type: integer
              description: >
                Maximum latency in milliseconds.
            - name: latency.min
              type: integer
              description: >
                Minimum latency in milliseconds.
            - name: num_alive_connections
              type: integer
              description: >
                Number of connections to ZooKeeper that are currently alive.
            - name: open_file_descriptor_count
              type: integer
              description: >
                Number of file descriptors open by the ZooKeeper process.
            - name: outstanding_requests
              type: integer
              description: >
                Number of outstanding requests that need to be processed by the cluster.
            - name: packets.received
              type: integer
              description: >
                Number of ZooKeeper network packets received.
            - name: packets.sent
              type: long
              description: >
                Number of ZooKeeper network packets sent.
            - name: pending_syncs
              type: integer
              description: >
                Number of pending syncs to carry out to ZooKeeper ensemble followers.
            - name: server_state
              type: keyword
              description: >
                Role in the ZooKeeper ensemble.
            - name: synced_followers
              type: integer
              description: >
                Number of synced followers reported when a node server_state is leader.
            - name: version
              type: keyword
              description: >
                ZooKeeper version and build string reported.
            - name: watch_count
              type: integer
              description: >
                Number of watches currently set on the local ZooKeeper process.
            - name: znode_count
              type: integer
              description: >
                Number of znodes reported by the local ZooKeeper process.


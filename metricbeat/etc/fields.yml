- key: common
  title: Common
  description: >
    Contains common fields available in all event types.
  fields:

    - name: metricset.module
      description: >
        The name of the module that generated the event.

    - name: metricset.name
      description: >
        The name of the metricset that generated the event.

    - name: metricset.host
      description: >
        Hostname of the machine from which the metricset was collected. This
        field may not be present when the data was collected locally.

    - name: metricset.rtt
      type: long
      required: true
      description: >
        Event round trip time in microseconds.

    - name: type
      required: true
      example: metricsets
      description: >
        The document type. Always set to "metricsets".
- key: apache
  title: "Apache"
  description: >
    Apache HTTPD server metricsets collected from the Apache web server.
  short_config: false
  fields:
    - name: apache
      type: group
      description: >
        `apache` contains the metrics that were scraped from Apache.
      fields:
        - name: status
          type: group
          description: >
            `status` contains the metrics that were scraped from the Apache status page.
          fields:
            - name: hostname
              type: keyword
              description: >
                Apache hostname.
            - name: total_accesses
              type: long
              description: >
                Total number of access requests.
            - name: total_kbytes
              type: long
              description: >
                Total number of kilobytes served.
            - name: requests_per_sec
              type: scaled_float
              description: >
                Requests per second.
            - name: bytes_per_sec
              type: scaled_float
              description: >
                Bytes per second.
            - name: bytes_per_request
              type: scaled_float
              description: >
                Bytes per request.
            - name: workers.busy
              type: long
              description: >
                Number of busy workers.
            - name: workers.idle
              type: long
              description: >
                Number of idle workers.
            - name: uptime
              type: group
              description: >
                Uptime stats.
              fields:
                - name: server_uptime
                  type: long
                  description: >
                    Server uptime in seconds.
                - name: uptime
                  type: long
                  description: >
                    Server uptime.
            - name: cpu
              type: group
              description: >
                CPU stats.
              fields:
                - name: load
                  type: scaled_float
                  description: >
                    CPU Load.
                - name: user
                  type: scaled_float
                  description: >
                    CPU user load.
                - name: system
                  type: scaled_float
                  description: >
                    System cpu.
                - name: children_user
                  type: scaled_float
                  description: >
                    CPU of children user.
                - name: children_system
                  type: scaled_float
                  description: >
                    CPU of children system.
            - name: connections
              type: group
              description: >
                Connection stats.
              fields:
                - name: total
                  type: long
                  description: >
                    Total connections.
                - name: async.writing
                  type: long
                  description: >
                    Async connection writing.
                - name: async.keep_alive
                  type: long
                  description: >
                    Async keeped alive connections.
                - name: async.closing
                  type: long
                  description: >
                    Async closed connections.
            - name: load
              type: group
              description: >
                Load averages.
              fields:
                - name: "1"
                  type: scaled_float
                  scaling_factor: 100
                  description: >
                    Load average for the last minute.
                - name: "5"
                  type: scaled_float
                  scaling_factor: 100
                  description: >
                    Load average for the last 5 minutes.
                - name: "15"
                  type: scaled_float
                  scaling_factor: 100
                  description: >
                    Load average for the last 15 minutes.
            - name: scoreboard
              type: group
              description: >
                Scoreboard metrics.
              fields:
                - name: starting_up
                  type: long
                  description: >
                    Starting up.
                - name: reading_request
                  type: long
                  description: >
                    Reading requests.
                - name: sending_reply
                  type: long
                  description: >
                    Sending Reply.
                - name: keepalive
                  type: long
                  description: >
                    Keep alive.
                - name: dns_lookup
                  type: long
                  description: >
                    Dns Lookups.
                - name: closing_connection
                  type: long
                  description: >
                    Closing connections.
                - name: logging
                  type: long
                  description: >
                    Logging
                - name: gracefully_finishing
                  type: long
                  description: >
                    Gracefully finishing.
                - name: idle_cleanup
                  type: long
                  description: >
                    Idle cleanups.
                - name: open_slot
                  type: long
                  description: >
                    Open slots.
                - name: waiting_for_connection
                  type: long
                  description: >
                    Waiting for connections.
                - name: total
                  type: long
                  description: >
                    Total.

- key: beats
  title: "beats"
  description: >
    experimental[]

    beats Module
  short_config: false
  fields:
    - name: beats
      type: group
      description: >
      fields:
        - name: filebeat
          type: group
          description: >
            experimental[]

            filebeat metrics
          fields:
            - name: harvesters
              type: group
              description: >
                Harvester metrics for all harvesters combined.
              fields:
                - name: started
                  type: long
                  description: >
                    Total number of started harvesters.
                - name: closed
                  type: long
                  description: >
                    Total number of closed harvesters.
                - name: running
                  type: long
                  description: >
                    Number of currently running harvesters.
                - name: skipped
                  type: long
                  description: >
                    Total number of harvesters starts that were skipped because of harvester_limit reached.
                - name: files
                  type: group
                  description: >
                    File handling related statistics.
                  fields:
                    - name: open
                      type: long
                      description: >
                        Currently open files.
                    - name: truncated
                      type: long
                      description: >
                        Number of files which were detected by the harvester as truncated and reading started from scratch.
            - name: prospectors
              type: group
              description: >
                Prospector metrics for all prospectors combined.
              fields:
                - name: log_files
                  type: group
                  description: >
                    Log files related stastics.
                  fields:
                    - name: renamed
                      type: long
                      description: >
                        Total number of files for which renaming was detected.
                    - name: truncated
                      type: long
                      description: >
                        Number of files which were detected by the prospector as truncated and reading started from scratch.

            - name: registrar
              type: group
              description: >
                Registrar statistics
              fields:
                - name: states
                  type: group
                  description: >
                    Registrar states metrics.
                  fields:
                    - name: update
                      type: long
                      description: >
                        Total number of states which were updated or added.
                    - name: cleanup
                      type: long
                      description: >
                        Total number of states which were cleaned up (removed).
                    - name: current
                      type: long
                      description: >
                        The current number of states in the registry file.
                - name: writes
                  type: long
                  description: >
                    Total number of times the registry file was written to disk.

        - name: libbeat
          type: group
          description: >
            experimental[]

            libbeat metrics. This metricset can be used with all beats.
          fields:
            - name: output
              type: group
              description: >
                Output related metrics
              fields:
                - name: elasticsearch
                  type: group
                  description: >
                    Elasticsearch specific metrics
                  fields:
                    - name: events
                      type: group
                      descriptions: >
                        Elasticsearch event metrics
                      fields:
                        - name: ack
                          type: long
                          description: >
                            Number of acknowledged events by elasticsearch
                        - name: not_ack
                          type: long
                          description: >
                            Number of not acknowledged events by elasticsearch
                    - name: read
                      type: group
                      descriptions: >
                        Elasticsearch read metrics
                      fields:
                        - name: bytes
                          type: long
                          description: >
                            Number of bytes read by the output
                        - name: errors
                          type: long
                          description: >
                            Number of read errors
                    - name: write
                      type: group
                      descriptions: >
                        Elasticsearch write metrics
                      fields:
                        - name: bytes
                          type: long
                          description: >
                            Number of bytes written by the output
                        - name: errors
                          type: long
                          description: >
                            Number of write errors
            - name: publisher
              type: group
              description: >
                General publisher metrics
              fields:
                - name: events
                  type: group
                  description: >
                    Log files related stastics.
                  fields:
                    - name: published
                      type: long
                      description: >
                        Total number of events published

- key: docker
  title: "docker"
  description: >
    experimental[]

    Docker stats collected from Docker.
  short_config: false
  fields:
    - name: docker
      type: group
      description: >
        docker contains different informations and statistics of docker's containers running
      fields:
        # TODO: Currently ports and labels are not added to the template yet
        - name: container
          type: group
          description: >
            Docker container metrics
          fields:
            - name: command
              type: keyword
              description: >
                Executed command in docker container.
            - name: created
              type: date
              description: >
                Date then the container was created.
            - name: id
              type: keyword
              description: >
                Unique container id.
            - name: image
              type: keyword
              description: >
                Name of the image the container was built on.
            - name: name
              type: keyword
              description: >
                Container name.
            - name: status
              type: keyword
              description: >
                Container status.
            - name: size
              type: group
              description: >
                Container size metrics.
              fields:
                - name: root_fs
                  type: long
                  description: >
                     Total size of all the files in the container.
                - name: rw
                  type: long
                  description: >
                     Size of the files which have been created or changed since creation.

        - name: cpu
          type: group
          description: >
            Runtime cpu metrics.
          fields:
            - name: container
              type: group
              description: >
                Container meta data.
              fields:
                # TODO: Add optional labels
                - name: id
                  type: keyword
                  description: >
                    Unique container id.
                - name: name
                  type: keyword
                  description: >
                    Container name.
                - name: socket
                  type: keyword
                  description: >
                    The daemon socket option. By default, docker daemon listens on the Unix socket : unix:///var/run/docker.sock.

            - name: usage
              type: group
              description: >
                Cpu usage metrics.
              fields:
                - name: kernel_mode
                  type: scaled_float
                  description: >
                    The system kernel consumed by The Docker server.
                - name: user_mode
                  type: scaled_float
                  description: >
                    The system user mode consumed by The Docker server.
                - name: total
                  type: scaled_float
                  description: >
                    The total system ressources consumed by The Docker server.

                # TODO: Add per_cpu

        - name: diskio
          type: group
          description: >
            Diskio metrics.
          fields:
            - name: container
              type: group
              description: >
                Container meta data.
              fields:
                # TODO: Add optional labels
                - name: id
                  type: keyword
                  description: >
                    Unique container id.
                - name: name
                  type: keyword
                  description: >
                    Container name.
                - name: socket
                  type: keyword
                  description: >
                    The daemon socket option. By default, docker daemon listens on the Unix socket : unix:///var/run/docker.sock.

            - name: reads
              type: scaled_float
              description: >
                Number of reads.
            - name: writes
              type: scaled_float
              description: >
                Number of writes.
            - name: total
              type: scaled_float
              description: >
                Reads and writes numbers combined.

        - name: info
          type: group
          description: >
            experimental[]

            info metrics based on https://docs.docker.com/engine/reference/api/docker_remote_api_v1.24/#/display-system-wide-information
          fields:
            - name: containers
              type: group
              description: >
                Overall container stats.
              fields:
                - name: paused
                  type: long
                  description: >
                    Total number of paused containers.
                - name: running
                  type: long
                  description: >
                    Total number of running containers.
                - name: stopped
                  type: long
                  description: >
                    Total number of stopped containers.
                - name: total
                  type: long
                  description: >
                    Total number of existing containers.
            - name: id
              type: keyword
              description: >
                Unique docker host identifier.

            - name: images
              type: long
              description: >
                Total number of existing images.

        - name: memory
          type: group
          description: >
            Memory metrics.
          fields:
            - name: container
              type: group
              description: >
                Container meta data.
              fields:
                # TODO: Add optional labels
                - name: id
                  type: keyword
                  description: >
                    Unique container id.
                - name: name
                  type: keyword
                  description: >
                    Container name.
                - name: socket
                  type: keyword
                  description: >
                    The daemon socket option. By default, docker daemon listens on the Unix socket : unix:///var/run/docker.sock.

            - name: fail.count
              type: scaled_float
              description: >
                Fail counter.
            - name: limit
              type: long
              description: >
                Memory limit.
            - name: total
              type: group
              description: >
                Total memory stats.
              fields:
                - name: rss
                  type: long
                  description: >
                    Memory resident set size.
                - name: rss.pct
                  type: scaled_float
                  description: >
                    Memory resident set size percentage.
            - name: usage
              type: group
              description: >
                Usage memory stats.
              fields:
                - name: max
                  type: long
                  description: >
                    Max memory usage.
                - name: pct
                  type: scaled_float
                  description: >
                    Memory usage percentage.
                - name: total
                  type: long
                  description: >
                    Total memory usage.

        - name: network
          type: group
          description: >
            Netowrk metrics.
          fields:
            - name: container
              type: group
              description: >
                Container meta data.
              fields:
                # TODO: Add optional labels
                - name: id
                  type: keyword
                  description: >
                    Unique container id.
                - name: name
                  type: keyword
                  description: >
                    Container name.
                - name: socket
                  type: keyword
                  description: >
                    The daemon socket option. By default, docker daemon listens on the Unix socket : unix:///var/run/docker.sock.

            - name: interface
              type: keyword
              description: >
                Network interface name.
            - name: in
              type: group
              description: >
                Incoming network stats.
              fields:
                - name: bytes
                  type: long
                  description: >
                    Total number of incoming bytes.
                - name: dropped
                  type: scaled_float
                  description: >
                    Total number of dropped incoming packets.
                - name: errors
                  type: long
                  description: >
                    Total errors on incoming packets.
                - name: packets
                  type: long
                  description: >
                    Total number of incoming packets.
            - name: out
              type: group
              description: >
                Outgoing network stats.
              fields:
                - name: bytes
                  type: long
                  description: >
                    Total number of outgoing bytes.
                - name: dropped
                  type: scaled_float
                  description: >
                    Total number of dropped outgoing packets.
                - name: errors
                  type: long
                  description: >
                    Total errors on outgoing packets.
                - name: packets
                  type: long
                  description: >
                    Total number of outgoing packets.

- key: haproxy
  title: "haproxy"
  description: >
    experimental[]

    haproxy Module
  short_config: false
  fields:
    - name: haproxy
      type: group
      description: >
        HAProx metrics.
      fields:
        - name: info
          type: group
          description: >
            General infomration collected on HAProxy process
          fields:
            - name: nb_proc
              type: integer
              description: >
                Number of processes

            - name: process_num
              type: integer
              description: >
                Process number

            - name: pid
              type: integer
              description: >
                Process ID

            - name: uptime_sec
              type: integer
              description: >
                Current uptime in seconds

            - name: mem_max_bytes
              type: integer
              format: bytes
              description: >
                Max number of memory usage in bytes (The 'Memmax_MB' value converted to bytes)

            - name: ulimit_n
              type: integer
              description: >
                Max number of open files for process

            - name: compress
              type: group
              description: >

              fields:
                - name: bps
                  type: group
                  description: >

                  fields:
                    - name: in
                      type: integer
                      description: >

                    - name: out
                      type: integer
                      description: >

                    - name: rate_limit
                      type: integer
                      description: >

            - name: conn
              type: group
              description: >

              fields:
                - name: rate
                  type: group
                  description: >

                  fields:
                    - name: value
                      type: integer
                      description: >

                    - name: limit
                      type: integer
                      description: >

            - name: curr
              type: group
              description: >

              fields:
                - name: conns
                  type: integer
                  description: >

                - name: ssl_conns
                  type: integer
                  description: >

            - name: cum
              type: group
              description: >

              fields:
                - name: conns
                  type: integer
                  description: >

                - name: req
                  type: integer
                  description: >

                - name: ssl_conns
                  type: integer
                  description: >


            - name: max
              type: group
              description: Maximum values reported by HAProxy.

              fields:
                - name: hard_conn
                  type: integer
                  description: HardMaxconn

                - name: ssl.conns
                  type: integer
                  description: MaxSslConns

                - name: ssl.rate
                  type: integer
                  description: MaxSslRate

                - name: sock
                  type: integer
                  description: Maxsock

                - name: conn.value
                  type: integer
                  description: Maxconn

                - name: conn.rate
                  type: integer
                  description: MaxConnRate

                - name: sess_rate
                  type: integer
                  description: MaxSessRate

                - name: pipes
                  type: integer
                  description: Maxpipes

                - name: zlib_mem_usage
                  type: integer
                  description: MaxZlibMemUsage

            - name: pipes
              type: group
              description: >

              fields:
                - name: used
                  type: integer
                  description: >

                - name: free
                  type: integer
                  description: >

            - name: sess
              type: group
              description: >

              fields:
                - name: rate
                  type: group
                  description: >

                  fields:
                    - name: value
                      type: integer
                      description: >

                    - name: limit
                      type: integer
                      description: >

            - name: ssl
              type: group
              description: >

              fields:
                - name: rate
                  type: group
                  description: >

                  fields:
                    - name: value
                      type: integer
                      description: >

                    - name: limit
                      type: integer
                      description: >

                - name: frontend
                  type: group
                  description: >

                  fields:
                    - name: key_rate
                      type: integer
                      description: >

                    - name: max_key_rate
                      type: integer
                      description: >

                    - name: session_reuse_pct
                      type: integer
                      description: >

                - name: backend
                  type: group
                  description: >

                  fields:
                    - name: key_rate
                      type: integer
                      description: >

                    - name: max_key_rate
                      type: integer
                      description: >

                - name: cached_lookups
                  type: integer
                  description: >

                - name: cache_misses
                  type: integer
                  description: >

            - name: zlib_mem_usage
              type: integer
              description: >

            - name: tasks
              type: integer
              description: >

            - name: run_queue
              type: integer
              description: >

            - name: idle_pct
              type: scaled_float
              format: percent
              description: >

        - name: stat
          type: group
          description: >
            Stats collected from HAProxy process
          fields:
            - name: pxname
              type: keyword
              description: >
                proxy name

            - name: svname
              type: keyword
              description: >
                service name (FRONTEND for frontend, BACKEND for backend, any name for server/listener)

            - name: qcur
              type: integer
              description: >
                current queued requests. For the backend this reports the number queued without a server assigned

            - name: qmax
              type: integer
              description: >
                max value of qcur

            - name: scur
              type: integer
              description: >
                current sessions

            - name: smax
              type: integer
              description: >
                max sessions

            - name: slim
              type: integer
              description: >
                configured session limit

            - name: stot
              type: keyword
              description: >
                cumulative number of connections

            - name: bin
              type: integer
              description: >
                bytes in

            - name: bout
              type: integer
              description: >
                bytes out

            - name: dreq
              type: integer
              description: >
                requests denied because of security concerns.
                  * For tcp this is because of a matched tcp-request content rule.
                  * For http this is because of a matched http-request or tarpit rule.

            - name: dresp
              type: integer
              description: >
                responses denied because of security concerns.
                  * For http this is because of a matched http-request rule, or "option checkcache".

            - name: ereq
              type: integer
              description: >
                request errors. Some of the possible causes are:
                  * early termination from the client, before the request has been sent.
                  * read error from the client
                  * client timeout
                  * client closed connection
                  * various bad requests from the client.
                  * request was tarpitted.

            - name: econ
              type: integer
              description: >
                number of requests that encountered an error trying to
                connect to a backend server. The backend stat is the sum of the stat
                for all servers of that backend, plus any connection errors not
                associated with a particular server (such as the backend having no
                active servers).

            - name: eresp
              type: integer
              description: >
                response errors. srv_abrt will be counted here also.
                Some other errors are:
                * write error on the client socket (won't be counted for the server stat)
                * failure applying filters to the response.

            - name: wretr
              type: integer
              description: >
                number of times a connection to a server was retried.

            - name: wredis
              type: integer
              description: >
                number of times a request was redispatched to another
                server. The server value counts the number of times that server was
                switched away from.

            - name: status
              type: keyword
              description: >
                status (UP/DOWN/NOLB/MAINT/MAINT(via)...)

            - name: weight
              type: integer
              description: >
                total weight (backend), server weight (server)

            - name: act
              type: integer
              description: >
                number of active servers (backend), server is active (server)

            - name: bck
              type: integer
              description: >
                number of backup servers (backend), server is backup (server)

            - name: chkfail
              type: integer
              description: >
                number of failed checks. (Only counts checks failed when
                the server is up.)

            - name: chkdown
              type: integer
              description: >
                number of UP->DOWN transitions. The backend counter counts
                transitions to the whole backend being down, rather than the sum of the
                counters for each server.

            - name: lastchg
              type: integer
              description: >
                number of seconds since the last UP<->DOWN transition

            - name: downtime
              type: integer
              description: >
                total downtime (in seconds). The value for the backend
                is the downtime for the whole backend, not the sum of the server downtime.

            - name: qlimit
              type: integer
              description: >
                configured maxqueue for the server, or nothing in the
                value is 0 (default, meaning no limit)

            - name: pid
              type: integer
              description: >
                process id (0 for first instance, 1 for second, ...)

            - name: iid
              type: integer
              description: >
                unique proxy id

            - name: sid
              type: integer
              description: >
                server id (unique inside a proxy)

            - name: throttle
              type: integer
              description: >
                current throttle percentage for the server, when
                slowstart is active, or no value if not in slowstart.

            - name: lbtot
              type: integer
              description: >
                total number of times a server was selected, either for new
                sessions, or when re-dispatching. The server counter is the number
                of times that server was selected.

            - name: tracked
              type: integer
              description: >
                id of proxy/server if tracking is enabled.

            - name: component_type
              type: integer
              description: >
                (0=frontend, 1=backend, 2=server, 3=socket/listener)

            - name: rate
              type: group
              description: >

              fields:
                - name: value
                  type: integer
                  description: >
                    number of sessions per second over last elapsed second

                - name: lim
                  type: integer
                  description: >
                    configured limit on new sessions per second

                - name: max
                  type: integer
                  description: >
                    max number of new sessions per second


            - name: check
              type: group
              description: >

              fields:
                - name: status
                  type: keyword
                  description: >
                    status of last health check, one of:
                      UNK     -> unknown
                      INI     -> initializing
                      SOCKERR -> socket error
                      L4OK    -> check passed on layer 4, no upper layers testing enabled
                      L4TOUT  -> layer 1-4 timeout
                      L4CON   -> layer 1-4 connection problem, for example
                                "Connection refused" (tcp rst) or "No route to host" (icmp)
                      L6OK    -> check passed on layer 6
                      L6TOUT  -> layer 6 (SSL) timeout
                      L6RSP   -> layer 6 invalid response - protocol error
                      L7OK    -> check passed on layer 7
                      L7OKC   -> check conditionally passed on layer 7, for example 404 with
                                disable-on-404
                      L7TOUT  -> layer 7 (HTTP/SMTP) timeout
                      L7RSP   -> layer 7 invalid response - protocol error
                      L7STS   -> layer 7 response error, for example HTTP 5xx

                - name: code
                  type: integer
                  description: >
                    layer5-7 code, if available

                - name: duration
                  type: integer
                  description: >
                    time in ms took to finish last health check

            - name: hrsp
              type: group
              description: >

              fields:
                - name: 1xx
                  type: integer
                  description: >
                    http responses with 1xx code

                - name: 2xx
                  type: integer
                  description: >
                    http responses with 2xx code

                - name: 3xx
                  type: integer
                  description: >
                    http responses with 3xx code

                - name: 4xx
                  type: integer
                  description: >
                    http responses with 4xx code

                - name: 5xx
                  type: integer
                  description: >
                    http responses with 5xx code

                - name: other
                  type: integer
                  description: >
                    http responses with other codes (protocol error)

            - name: hanafail
              type: integer
              description: >
                failed health checks details

            - name: req
              type: group
              description: >

              fields:
                - name: rate
                  type: group
                  description: >

                  fields:
                    - name: value
                      type: integer
                      description: >
                        HTTP requests per second over last elapsed second

                    - name: max
                      type: integer
                      description: >
                        max number of HTTP requests per second observed

                - name: tot
                  type: integer
                  description: >
                    total number of HTTP requests received

            - name: cli_abrt
              type: integer
              description: >
                number of data transfers aborted by the client

            - name: srv_abrt
              type: integer
              description: >
                number of data transfers aborted by the server (inc. in eresp)

            - name: comp
              type: group
              description: >

              fields:
                - name: in
                  type: integer
                  description: >
                    number of HTTP response bytes fed to the compressor

                - name: out
                  type: integer
                  description: >
                    number of HTTP response bytes emitted by the compressor

                - name: byp
                  type: integer
                  description: >
                    number of bytes that bypassed the HTTP compressor (CPU/BW limit)

                - name: rsp
                  type: integer
                  description: >
                    number of HTTP responses that were compressed

            - name: last
              type: group
              description: >

              fields:
                - name: sess
                  type: integer
                  description: >
                    number of seconds since last session assigned to server/backend

                - name: chk
                  type: keyword
                  description: >
                    last health check contents or textual error

                - name: agt
                  type: keyword
                  description: >
                    last agent check contents or textual error


            - name: qtime
              type: integer
              description: >
                the average queue time in ms over the 1024 last requests

            - name: ctime
              type: integer
              description: >
                the average connect time in ms over the 1024 last requests

            - name: rtime
              type: integer
              description: >
                the average response time in ms over the 1024 last requests (0 for TCP)

            - name: ttime
              type: integer
              description: >
                the average total session time in ms over the 1024 last requests

- key: mongodb
  title: "MongoDB"
  description: >
    Metrics collected from MongoDB servers.
  short_config: false
  fields:
    - name: mongodb
      type: group
      description: >
        MongoDB metrics.
      fields:
        - name: status
          type: group
          description: >
            MongoDB server status metrics.
          fields:
            - name: version
              type: keyword
              description: >
                Instance version.
            - name: uptime.ms
              type: long
              description: >
                Instance uptime in milliseconds.
            - name: local_time
              type: date
              description: >
                Local time as reported by the MongoDB instance.

            - name: asserts.regular
              type: long
              description: >
                Number of regular assertions produced by the server.
            - name: asserts.warning
              type: long
              description: >
                Number of warning assertions produced by the server.
            - name: asserts.msg
              type: long
              description: >
                Number of msg assertions produced by the server.
            - name: asserts.user
              type: long
              description: >
                Number of user assertions produced by the server.
            - name: asserts.rollovers
              type: long
              description: >
                Number of rollovers assertions produced by the server.

            - name: background_flushing
              type: group
              description: >
                Data about the process MongoDB uses to write data to disk. This data is
                only available for instances that use the MMAPv1 storage engine.
              fields:
                - name: flushes
                  type: long
                  description: >
                     A counter that collects the number of times the database has
                     flushed all writes to disk.
                - name: total.ms
                  type: long
                  description: >
                    The total number of milliseconds (ms) that the mongod processes have
                    spent writing (i.e. flushing) data to disk. Because this is an
                    absolute value, consider the value of `flushes` and `average_ms` to
                    provide better context for this datum.
                - name: average.ms
                  type: long
                  description: >
                    The average time spent flushing to disk per flush event.
                - name: last.ms
                  type: long
                  description: >
                    The amount of time, in milliseconds, that the last flush operation
                    took to complete.
                - name: last_finished
                  type: date
                  description: >
                    A timestamp of the last completed flush operation.

            - name: connections
              type: group
              description: >
                Data regarding the current status of incoming connections and
                availability of the database server.
              fields:
                - name: current
                  type: long
                  description: >
                    The number of connections to the database server from clients. This
                    number includes the current shell session. Consider the value of
                    `available` to add more context to this datum.
                - name: available
                  type: long
                  description: >
                     The number of unused available incoming connections the database
                     can provide.
                - name: total_created
                  type: long
                  description: >
                    A count of all incoming connections created to the server. This
                    number includes connections that have since closed.

            - name: journaling
              type: group
              description: >
                Data about the journaling-related operations and performance. Journaling
                information only appears for mongod instances that use the MMAPv1
                storage engine and have journaling enabled.
              fields:
                - name: commits
                  type: long
                  description: >
                    The number of transactions written to the journal during the last
                    journal group commit interval.
                - name: journaled.mb
                  type: long
                  description: >
                    The amount of data in megabytes (MB) written to journal during the
                    last journal group commit interval.
                - name: write_to_data_files.mb
                  type: long
                  description: >
                    The amount of data in megabytes (MB) written from journal to the
                    data files during the last journal group commit interval.
                - name: compression
                  type: long
                  description: >
                    The compression ratio of the data written to the journal.
                - name: commits_in_write_lock
                  type: long
                  description: >
                    Count of the commits that occurred while a write lock was held.
                    Commits in a write lock indicate a MongoDB node under a heavy write
                    load and call for further diagnosis.
                - name: early_commits
                  type: long
                  description: >
                    The number of times MongoDB requested a commit before the scheduled
                    journal group commit interval.
                - name: times
                  type: group
                  description: >
                    Information about the performance of the mongod instance during the
                    various phases of journaling in the last journal group commit
                    interval.
                  fields:
                    - name: dt.ms
                      type: long
                      description: >
                        The amount of time over which MongoDB collected the times data.
                        Use this field to provide context to the other times field values.
                    - name: prep_log_buffer.ms
                      type: long
                      description: >
                        The amount of time spent preparing to write to the journal.
                        Smaller values indicate better journal performance.
                    - name: write_to_journal.ms
                      type: long
                      description: >
                        The amount of time spent actually writing to the journal. File
                        system speeds and device interfaces can affect performance.
                    - name: write_to_data_files.ms
                      type: long
                      description: >
                        The amount of time spent writing to data files after journaling.
                        File system speeds and device interfaces can affect performance.
                    - name: remap_private_view.ms
                      type: long
                      description: >
                        The amount of time spent remapping copy-on-write memory mapped
                        views. Smaller values indicate better journal performance.
                    - name: commits.ms
                      type: long
                      description: >
                        The amount of time spent for commits.
                    - name: commits_in_write_lock.ms
                      type: long
                      description: >
                        The amount of time spent for commits that occurred while a write
                        lock was held.

            - name: extra_info
              type: group
              description: >
                Platform specific data.
              fields:
                - name: heap_usage.bytes
                  type: long
                  format: bytes
                  description: >
                    The total size in bytes of heap space used by the database process.
                    Only available on Unix/Linux.
                - name: page_faults
                  type: long
                  description: >
                    The total number of page faults that require disk operations. Page
                    faults refer to operations that require the database server to
                    access data that isn't available in active memory.

            - name: network
              type: group
              description: >
                Platform specific data.
              fields:
                - name: in.bytes
                  type: long
                  format: bytes
                  description: >
                    The amount of network traffic, in bytes, received by this database.
                - name: out.bytes
                  type: long
                  format: bytes
                  description: >
                    The amount of network traffic, in bytes, sent from this database.
                - name: requests
                  type: long
                  description: >
                    The total number of requests received by the server.

            - name: opcounters
              type: group
              description: >
                An overview of database operations by type.
              fields:
                - name: insert
                  type: long
                  description: >
                    The total number of insert operations received since the mongod
                    instance last started.
                - name: query
                  type: long
                  description: >
                    The total number of queries received since the mongod instance last
                    started.
                - name: update
                  type: long
                  description: >
                    The total number of update operations received since the mongod
                    instance last started.
                - name: delete
                  type: long
                  description: >
                    The total number of delete operations received since the mongod
                    instance last started.
                - name: getmore
                  type: long
                  description: >
                    The total number of getmore operations received since the mongod
                    instance last started.
                - name: command
                  type: long
                  description: >
                    The total number of commands issued to the database since the mongod
                    instance last started.

            - name: opcounters_replicated
              type: group
              description: >
                An overview of database replication operations by type.
              fields:
                - name: insert
                  type: long
                  description: >
                    The total number of replicated insert operations received since the
                    mongod instance last started.
                - name: query
                  type: long
                  description: >
                    The total number of replicated queries received since the mongod
                    instance last started.
                - name: update
                  type: long
                  description: >
                    The total number of replicated update operations received since the
                    mongod instance last started.
                - name: delete
                  type: long
                  description: >
                    The total number of replicated delete operations received since the
                    mongod instance last started.
                - name: getmore
                  type: long
                  description: >
                    The total number of replicated getmore operations received since the
                    mongod instance last started.
                - name: command
                  type: long
                  description: >
                    The total number of replicated commands issued to the database since
                    the mongod instance last started.

            - name: memory
              type: group
              description: >
                Data about the current memory usage of the mongod server.
              fields:
                - name: bits
                  type: long
                  description: >
                    Either 64 or 32, depending on which target architecture was specified
                    during the mongod compilation process.
                - name: resident.mb
                  type: long
                  description: >
                    The amount of RAM, in megabytes (MB), currently used by the database
                    process.
                - name: virtual.mb
                  type: long
                  description: >
                   The amount, in megabytes (MB), of virtual memory used by the mongod
                   process.
                - name: mapped.mb
                  type: long
                  description: >
                    The amount of mapped memory, in megabytes (MB), used by the database.
                    Because MongoDB uses memory-mapped files, this value is likely to be
                    to be roughly equivalent to the total size of your database or
                    databases.
                - name: mapped_with_journal.mb
                  type: long
                  description: >
                    The amount of mapped memory, in megabytes (MB), including the memory
                    used for journaling.
            - name: write_backs_queued
              type: boolean
              description: >
                True when there are operations from a mongos instance queued for retrying.
            - name: storage_engine.name
              type: keyword
              description: >
                A string that represents the name of the current storage engine.









- key: mysql
  title: "MySQL"
  description: >
    MySQL server status metrics collected from MySQL.
  short_config: false
  fields:
    - name: mysql
      type: group
      description: >
        `mysql` contains the metrics that were obtained from MySQL
        query.
      fields:
        - name: status
          type: group
          description: >
            `status` contains the metrics that were obtained by the status SQL query.
          fields:
            - name: aborted
              type: group
              description: >
                Aborted status fields.
              fields:
                - name: clients
                  type: long
                  description: >
                    The number of connections that were aborted because the client died without closing the connection properly.

                - name: connects
                  type: long
                  description: >
                    The number of failed attempts to connect to the MySQL server.

            - name: binlog
              type: group
              description: >
              fields:
                - name: cache.disk_use
                  type: long
                  description: >

                - name: cache.use
                  type: long
                  description: >

            - name: bytes
              type: group
              description: >
                Bytes stats.
              fields:
                - name: received
                  format: bytes
                  type: long
                  description: >
                    The number of bytes received from all clients.

                - name: sent
                  type: long
                  format: bytes
                  description: >
                    The number of bytes sent to all clients.

            - name: threads
              type: group
              description: >
                Threads stats.
              fields:
                - name: cached
                  type: long
                  description: >
                    The number of cached threads.

                - name: created
                  type: long
                  description: >
                    The number of created threads.

                - name: connected
                  type: long
                  description: >
                    The number of connected threads.

                - name: running
                  type: long
                  description: >
                    The number of running threads.

            - name: connections
              type: long
              description: >

            - name: created
              type: group
              description: >
              fields:
                - name: tmp.disk_tables
                  type: long
                  description: >

                - name: tmp.files
                  type: long
                  description: >

                - name: tmp.tables
                  type: long
                  description: >

            - name: delayed
              type: group
              description: >
              fields:
                - name: errors
                  type: long
                  description: >

                - name: insert_threads
                  type: long
                  description: >

                - name: writes
                  type: long
                  description: >

            - name: flush_commands
              type: long
              description: >

            - name: max_used_connections
              type: long
              description: >

            - name: open
              type: group
              description: >
              fields:
                - name: files
                  type: long
                  description: >

                - name: streams
                  type: long
                  description: >

                - name: tables
                  type: long
                  description: >

            - name: opened_tables
              type: long
              description: >

- key: nginx
  title: "Nginx"
  description: >
    Nginx server status metrics collected from various modules.
  short_config: false
  fields:
    - name: nginx
      type: group
      description: >
        `nginx` contains the metrics that were scraped from nginx.
      fields:
        - name: stubstatus
          type: group
          description: >
            `stubstatus` contains the metrics that were scraped from the ngx_http_stub_status_module status page.
          fields:
            - name: hostname
              type: keyword
              description: >
                Nginx hostname.
            - name: active
              type: long
              description: >
                The current number of active client connections including Waiting connections.
            - name: accepts
              type: long
              description: >
                The total number of accepted client connections.
            - name: handled
              type: long
              description: >
                The total number of handled client connections.
            - name: dropped
              type: long
              description: >
                The total number of dropped client connections.
            - name: requests
              type: long
              description: >
                The total number of client requests.
            - name: current
              type: long
              description: >
                The current number of client requests.
            - name: reading
              type: long
              description: >
                The current number of connections where Nginx is reading the request header.
            - name: writing
              type: long
              description: >
                The current number of connections where Nginx is writing the response back to the client.
            - name: waiting
              type: long
              description: >
                The current number of idle client connections waiting for a request.

- key: postgresql
  title: "PostgreSQL"
  description: >
    Metrics collected from PostgreSQL servers.
  short_config: false
  fields:
    - name: postgresql
      type: group
      description: >
        PostgreSQL metrics.
      fields:
        - name: activity
          type: group
          description: >
            One document per server process, showing information related to the current
            activity of that process, such as state and current query. Collected by
            querying pg_stat_activity.
          fields:
            - name: database.oid
              type: long
              description: >
                OID of the database this backend is connected to.
            - name: database.name
              type: keyword
              description: >
                Name of the database this backend is connected to.
            - name: pid
              type: long
              description: >
                Process ID of this backend.
            - name: user.id
              type: long
              description: >
                OID of the user logged into this backend.
            - name: user.name
              description: >
                Name of the user logged into this backend.
            - name: application_name
              description: >
                Name of the application that is connected to this backend.
            - name: client.address
              description: >
                IP address of the client connected to this backend.
            - name: client.hostname
              description: >
                Host name of the connected client, as reported by a reverse DNS lookup of client_addr.
            - name: client.port
              type: long
              description: >
                TCP port number that the client is using for communication with this
                backend, or -1 if a Unix socket is used.
            - name: backend_start
              type: date
              description: >
                Time when this process was started, i.e., when the client connected to
                the server.
            - name: transaction_start
              type: date
              description: >
                Time when this process' current transaction was started.
            - name: query_start
              type: date
              description: >
                Time when the currently active query was started, or if state is not
                active, when the last query was started.
            - name: state_change
              type: date
              description: >
                Time when the state was last changed.
            - name: waiting
              type: boolean
              description: >
                True if this backend is currently waiting on a lock.
            - name: state
              description: >
                Current overall state of this backend. Possible values are:

                  * active: The backend is executing a query.
                  * idle: The backend is waiting for a new client command.
                  * idle in transaction: The backend is in a transaction, but is not
                    currently executing a query.
                  * idle in transaction (aborted): This state is similar to idle in
                    transaction, except one of the statements in the transaction caused
                    an error.
                  * fastpath function call: The backend is executing a fast-path function.
                  * disabled: This state is reported if track_activities is disabled in this backend.
            - name: query
              description: >
                Text of this backend's most recent query. If state is active this field
                shows the currently executing query. In all other states, it shows the
                last query that was executed.


        - name: bgwriter
          type: group
          description: >
            Statistics about the background writer process's activity. Collected using the
            pg_stat_bgwriter query.
          fields:
            - name: checkpoints.scheduled
              type: long
              description: >
                Number of scheduled checkpoints that have been performed.
            - name: checkpoints.requested
              type: long
              description: >
                Number of requested checkpoints that have been performed.
            - name: checkpoints.times.write.ms
              type: float
              description: >
                Total amount of time that has been spent in the portion of checkpoint
                processing where files are written to disk, in milliseconds.
            - name: checkpoints.times.sync.ms
              type: float
              description: >
                Total amount of time that has been spent in the portion of checkpoint
                processing where files are synchronized to disk, in milliseconds.
            - name: buffers.checkpoints
              type: long
              description: >
                Number of buffers written during checkpoints.
            - name: buffers.clean
              type: long
              description: >
                Number of buffers written by the background writer.
            - name: buffers.clean_full
              type: long
              description: >
                Number of times the background writer stopped a cleaning scan because it
                had written too many buffers.
            - name: buffers.backend
              type: long
              description: >
                Number of buffers written directly by a backend.
            - name: buffers.backend_fsync
              type: long
              description: >
                Number of times a backend had to execute its own fsync call (normally
                the background writer handles those even when the backend does its own
                write)
            - name: buffers.allocated
              type: long
              description: >
                Number of buffers allocated.
            - name: stats_reset
              type: date
              description: >
                Time at which these statistics were last reset.

        - name: database
          type: group
          description: >
            One row per database, showing database-wide statistics. Collected by querying
            pg_stat_database
          fields:
            - name: oid
              type: long
              description: >
                OID of the database this backend is connected to.
            - name: name
              type: keyword
              description: >
                Name of the database this backend is connected to.
            - name: number_of_backends
              type: long
              description: >
                Number of backends currently connected to this database.
            - name: transactions.commit
              type: long
              description: >
                Number of transactions in this database that have been committed.
            - name: transactions.rollback
              type: long
              description: >
                Number of transactions in this database that have been rolled back.
            - name: blocks.read
              type: long
              description: >
                Number of disk blocks read in this database.
            - name: blocks.hit
              type: long
              description: >
                Number of times disk blocks were found already in the buffer cache, so
                that a read was not necessary (this only includes hits in the PostgreSQL
                buffer cache, not the operating system's file system cache).
            - name: blocks.time.read.ms
              type: long
              description: >
                Time spent reading data file blocks by backends in this database, in
                milliseconds.
            - name: blocks.time.write.ms
              type: long
              description: >
                Time spent writing data file blocks by backends in this database, in
                milliseconds.
            - name: rows.returned
              type: long
              description: >
                Number of rows returned by queries in this database.
            - name: rows.fetched
              type: long
              description: >
                Number of rows fetched by queries in this database.
            - name: rows.inserted
              type: long
              description: >
                Number of rows inserted by queries in this database.
            - name: rows.updated
              type: long
              description: >
                Number of rows updated by queries in this database.
            - name: rows.deleted
              type: long
              description: >
                Number of rows deleted by queries in this database.
            - name: conflicts
              type: long
              description: >
                Number of queries canceled due to conflicts with recovery in this
                database.
            - name: temporary.files
              type: long
              description: >
                Number of temporary files created by queries in this database. All
                temporary files are counted, regardless of why the temporary file was
                created (e.g., sorting or hashing), and regardless of the log_temp_files
                setting.
            - name: temporary.bytes
              type: long
              description: >
                Total amount of data written to temporary files by queries in this
                database. All temporary files are counted, regardless of why the
                temporary file was created, and regardless of the log_temp_files
                setting.
            - name: deadlocks
              type: long
              description: >
                Number of deadlocks detected in this database.
            - name: stats_reset
              type: date
              description: >
                Time at which these statistics were last reset.


- key: redis
  title: "Redis"
  description: >
    Redis metrics collected from Redis.
  short_config: false
  fields:
    - name: redis
      type: group
      description: >
        `redis` contains the information and statistics from Redis.
      fields:
        - name: info
          type: group
          description: >
            `info` contains the information and statistics returned by the `INFO` command.
          fields:
            - name: clients
              type: group
              description: >
                Redis client stats.
              fields:
                - name: connected
                  type: long
                  description: >
                    Number of client connections (excluding connections from slaves).

                - name: longest_output_list
                  type: long
                  description: >
                    Longest output list among current client connections.

                - name: biggest_input_buf
                  type: long
                  description: >
                    Biggest input buffer among current client connections.

                - name: blocked
                  type: long
                  description: >
                    Number of clients pending on a blocking call (BLPOP, BRPOP, BRPOPLPUSH).

            - name: cluster
              type: group
              description: >
                Redis cluster information.
              fields:
                - name: enabled
                  type: boolean
                  description: >
                    Indicates that the Redis cluster is enabled.

            - name: cpu
              type: group
              description: >
                Redis CPU stats
              fields:
                - name: used.sys
                  type: scaled_float
                  description: >
                    System CPU consumed by the Redis server.

                - name: used.sys_children
                  type: scaled_float
                  description: >
                    User CPU consumed by the Redis server.

                - name: used.user
                  type: scaled_float
                  description: >
                    System CPU consumed by the background processes.

                - name: used.user_children
                  type: scaled_float
                  description: >
                    User CPU consumed by the background processes.

            - name: memory
              type: group
              description: >
                Redis CPU stats.
              fields:
                - name: used.value
                  type: long
                  description: >
                    Used memory.

                - name: used.rss
                  type: long
                  description: >
                    Used memory rss.

                - name: used.peak
                  type: long
                  description: >
                    Used memory peak.

                - name: used.lua
                  type: long
                  description: >
                    Used memory lua.

                - name: allocator
                  type: keyword
                  description: >
                    Memory allocator.

            - name: persistence
              type: group
              description: >
                Redis CPU stats.
              fields:
                - name: loading
                  type: boolean
                  description:

                - name: rdb
                  type: group
                  description:
                  fields:
                    - name: last_save.changes_since
                      type: long
                      description:

                    - name: bgsave.in_progress
                      type: boolean
                      description:

                    - name: last_save.time
                      type: long
                      description:

                    - name: bgsave.last_status
                      type: keyword
                      description:

                    - name: bgsave.last_time.sec
                      type: long
                      description:

                    - name: bgsave.current_time.sec
                      type: long
                      description:

                - name: aof
                  type: group
                  description:
                  fields:
                    - name: enabled
                      type: boolean
                      description:

                    - name: rewrite.in_progress
                      type: boolean
                      description:

                    - name: rewrite.scheduled
                      type: boolean
                      description:

                    - name: rewrite.last_time.sec
                      type: long
                      description:

                    - name: rewrite.current_time.sec
                      type: long
                      description:

                    - name: bgrewrite.last_status
                      type: keyword
                      description:

                    - name: write.last_status
                      type: keyword
                      description:

            - name: replication
              type: group
              description: >
                Replication
              fields:
                - name: role
                  type: keyword
                  description:

                - name: connected_slaves
                  type: long
                  description:

                - name: master_offset
                  type: long
                  description:

                - name: backlog.active
                  type: long
                  description:

                - name: backlog.size
                  type: long
                  description:

                - name: backlog.first_byte_offset
                  type: long
                  description:

                - name: backlog.histlen
                  type: long
                  description:

            - name: server
              type: group
              description: >
                Server info
              fields:
                - name: version
                  type: keyword
                  description:

                - name: git_sha1
                  type: keyword
                  description:

                - name: git_dirty
                  type: keyword
                  description:

                - name: build_id
                  type: keyword
                  description:

                - name: mode
                  type: keyword
                  description:

                - name: os
                  type: keyword
                  description:

                - name: arch_bits
                  type: keyword
                  description:

                - name: multiplexing_api
                  type: keyword
                  description:

                - name: gcc_version
                  type: keyword
                  description:

                - name: process_id
                  type: long
                  description:

                - name: run_id
                  type: keyword
                  description:

                - name: tcp_port
                  type: long
                  description:

                - name: uptime
                  type: long
                  description:

                - name: hz
                  type: long
                  description:

                - name: lru_clock
                  type: long
                  description:

                - name: config_file
                  type: keyword
                  description:

            - name: stats
              type: group
              description: >
                Redis stats.
              fields:
                - name: connections.received
                  type: long
                  description:
                    Total number of connections received.

                - name: connections.rejected
                  type: long
                  description:
                    Total number of connections rejected.

                - name: commands_processed
                  type: long
                  description:
                    Total number of commands preocessed.

                - name: net.input.bytes
                  type: long
                  description:
                    Total network input in bytes.

                - name: net.output.bytes
                  type: long
                  description:
                    Total network output in bytes.

                - name: instantaneous.ops_per_sec
                  type: long
                  description:

                - name: instantaneous.input_kbps
                  type: scaled_float
                  description:

                - name: instantaneous.output_kbps
                  type: scaled_float
                  description:

                - name: sync.full
                  type: long
                  description:

                - name: sync.partial.ok
                  type: long
                  description:

                - name: sync.partial.err
                  type: long
                  description:

                - name: keys.expired
                  type: long
                  description:

                - name: keys.evicted
                  type: long
                  description:

                - name: keyspace.hits
                  type: long
                  description:

                - name: keyspace.misses
                  type: long
                  description:

                - name: pubsub.channels
                  type: long
                  description:

                - name: pubsub.patterns
                  type: long
                  description:

                - name: latest_fork_usec
                  type: long
                  description:

                - name: migrate_cached_sockets
                  type: long
                  description:


        - name: keyspace
          type: group
          description: >
            `keyspace` contains the information about the keyspaces returned by the `INFO` command.
          fields:
            - name: id
              type: keyword
              description: >
                Keyspace identifier.

            - name: avg_ttl
              type: long
              description: >
                Average ttl.

            - name: keys
              type: long
              description: >
                Number of keys in the keyspace.

            - name: expires
              type: long
              description: >

- key: system
  title: "System"
  description: >
    System status metrics, like CPU and memory usage, that are collected from the operating system.
  fields:
    - name: system
      type: group
      description: >
        `system` contains local system metrics.
      fields:
        - name: core
          type: group
          description: >
            `system-core` contains local CPU core stats.
          fields:
            - name: id
              type: long
              description: >
                CPU Core number.

            - name: user.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in user space. On multi-core systems, you can have percentages that are greater than 100%.
                For example, if 3 cores are at 60% use, then the `cpu.user_p` will be 180%.

            - name: user.ticks
              type: long
              description: >
               The amount of CPU time spent in user space.

            - name: system.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in kernel space.

            - name: system.ticks
              type: long
              description: >
                The amount of CPU time spent in kernel space.

            - name: nice.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent on low-priority processes.

            - name: nice.ticks
              type: long
              description: >
                The amount of CPU time spent on low-priority processes.

            - name: idle.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent idle.

            - name: idle.ticks
              type: long
              description: >
                The amount of CPU time spent idle.

            - name: iowait.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in wait (on disk).

            - name: iowait.ticks
              type: long
              description: >
                The amount of CPU time spent in wait (on disk).

            - name: irq.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent servicing and handling hardware interrupts.

            - name: irq.ticks
              type: long
              description: >
                The amount of CPU time spent servicing and handling hardware interrupts.

            - name: softirq.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent servicing and handling software interrupts.

            - name: softirq.ticks
              type: long
              description: >
                The amount of CPU time spent servicing and handling software interrupts.

            - name: steal.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in involuntary wait by the virtual CPU while the hypervisor
                was servicing another processor.
                Available only on Unix.

            - name: steal.ticks
              type: long
              description: >
                The amount of CPU time spent in involuntary wait by the virtual CPU while the hypervisor
                was servicing another processor.
                Available only on Unix.


        - name: cpu
          type: group
          description: >
            `cpu` contains local CPU stats.
          fields:
            - name: user.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in user space. On multi-core systems, you can have percentages that are greater than 100%.
                For example, if 3 cores are at 60% use, then the `cpu.user_p` will be 180%.

            - name: system.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in kernel space.

            - name: nice.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent on low-priority processes.

            - name: idle.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent idle.

            - name: iowait.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in wait (on disk).

            - name: irq.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent servicing and handling hardware interrupts.

            - name: softirq.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent servicing and handling software interrupts.

            - name: steal.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of CPU time spent in involuntary wait by the virtual CPU while the hypervisor
                was servicing another processor.
                Available only on Unix.

            - name: user.ticks
              type: long
              description: >
               The amount of CPU time spent in user space.

            - name: system.ticks
              type: long
              description: >
                The amount of CPU time spent in kernel space.

            - name: nice.ticks
              type: long
              description: >
                The amount of CPU time spent on low-priority processes.

            - name: idle.ticks
              type: long
              description: >
                The amount of CPU time spent idle.

            - name: iowait.ticks
              type: long
              description: >
                The amount of CPU time spent in wait (on disk).

            - name: irq.ticks
              type: long
              description: >
                The amount of CPU time spent servicing and handling hardware interrupts.

            - name: softirq.ticks
              type: long
              description: >
                The amount of CPU time spent servicing and handling software interrupts.

            - name: steal.ticks
              type: long
              description: >
                The amount of CPU time spent in involuntary wait by the virtual CPU while the hypervisor
                was servicing another processor.
                Available only on Unix.

        - name: diskio
          type: group
          description: >
            `disk` contains disk IO metrics collected from the operating system.
          fields:
            - name: name
              type: keyword
              example: sda1
              description: >
                The disk name.

            - name: serial_number
              type: keyword
              description: >
                The disk's serial number. This may not be provided by all operating
                systems.

            - name: read.count
              type: long
              description: >
                The total number of reads completed successfully.

            - name: write.count
              type: long
              description: >
                The total number of writes completed successfully.

            - name: read.bytes
              type: long
              format: bytes
              description: >
                The total number of bytes read successfully. On Linux this is
                the number of sectors read multiplied by an assumed sector size of 512.

            - name: write.bytes
              type: long
              format: bytes
              description: >
                The total number of bytes written successfully. On Linux this is
                the number of sectors written multiplied by an assumed sector size of
                512.

            - name: read.time
              type: long
              description: >
                The total number of milliseconds spent by all reads.

            - name: write.time
              type: long
              description: >
                The total number of milliseconds spent by all writes.

            - name: io.time
              type: long
              description: >
                The total number of of milliseconds spent doing I/Os.

        - name: filesystem
          type: group
          description: >
            `filesystem` contains local filesystem stats.
          fields:
            - name: available
              type: long
              format: bytes
              description: >
                The disk space available to an unprivileged user in bytes.
            - name: device_name
              type: keyword
              description: >
                The disk name. For example: `/dev/disk1`
            - name: mount_point
              type: keyword
              description: >
                The mounting point. For example: `/`
            - name: files
              type: long
              description: >
                The total number of file nodes in the file system.
            - name: free
              type: long
              format: bytes
              description: >
                The disk space available in bytes.
            - name: free_files
              type: long
              description: >
                The number of free file nodes in the file system.
            - name: total
              type: long
              format: bytes
              description: >
                The total disk space in bytes.
            - name: used.bytes
              type: long
              format: bytes
              description: >
                The used disk space in bytes.
            - name: used.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of used disk space.



        - name: fsstat
          type: group
          description: >
            `system.fsstat` contains filesystem metrics aggregated from all mounted
            filesystems.
          fields:
            - name: count
              type: long
              description: Number of file systems found.
            - name: total_files
              type: long
              description: Total number of files.
            - name: total_size
              format: bytes
              type: group
              description: Nested file system docs.
              fields:
                - name: free
                  type: long
                  format: bytes
                  description: >
                    Total free space.
                - name: used
                  type: long
                  format: bytes
                  description: >
                    Total used space.
                - name: total
                  type: long
                  format: bytes
                  description: >
                    Total space (used plus free).

        - name: load
          type: group
          description: >
            Load averages.
          fields:
            - name: "1"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load average for the last minute.
            - name: "5"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load average for the last 5 minutes.
            - name: "15"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load average for the last 15 minutes.

            - name: "norm.1"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load divided by the number of cores for the last minute.

            - name: "norm.5"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load divided by the number of cores for the last 5 minutes.

            - name: "norm.15"
              type: scaled_float
              scaling_factor: 100
              description: >
                Load divided by the number of cores for the last 15 minutes.

        - name: memory
          type: group
          description: >
            `memory` contains local memory stats.
          fields:
            - name: total
              type: long
              format: bytes
              description: >
                Total memory.

            - name: used.bytes
              type: long
              format: bytes
              description: >
                Used memory.

            - name: free
              type: long
              format: bytes
              description: >
                The total amount of free memory in bytes. This value does not include memory consumed by system caches and
                buffers (see system.memory.actual.free).

            - name: used.pct
              type: scaled_float
              format: percent
              description: >
                The percentage of used memory.

            - name: actual
              type: group
              description: >
                Actual memory used and free.
              fields:

                - name: used.bytes
                  type: long
                  description: >
                    Actual used memory in bytes. It represents the difference between the total and the available memory. The
                    available memory depends on the OS. For more details, please check `system.actual.free`.
 
                - name: free
                  type: long
                  description: >
                    Actual free memory in bytes. It is calculated based on the OS. On Linux it consists of the free memory
                    plus caches and buffers. On OSX it is a sum of free memory and the inactive memory. On Windows, it is the 
                    amount of unreserved and uncommitted memory currently in the user-mode portion of the virtual address space
                    of the calling process.

                - name: used.pct
                  type: scaled_float
                  description: >
                    The percentage of actual used memory.

            - name: swap
              type: group
              prefix: "[float]"
              description: This group contains statistics related to the swap memory usage on the system.
              fields:
                - name: total
                  type: long
                  format: bytes
                  description: >
                    Total swap memory.

                - name: used.bytes
                  type: long
                  format: bytes
                  description: >
                    Used swap memory.

                - name: free
                  type: long
                  format: bytes
                  description: >
                    Available swap memory.

                - name: used.pct
                  type: scaled_float
                  format: percent
                  description: >
                    The percentage of used swap memory.

        - name: network
          type: group
          description: >
            `network` contains network IO metrics for a single network interface.
          fields:
            - name: name
              type: keyword
              example: eth0
              description: >
                The network interface name.

            - name: out.bytes
              type: long
              format: bytes
              description: >
                The number of bytes sent.

            - name: in.bytes
              type: long
              format: bytes
              description: >
                The number of bytes received.

            - name: out.packets
              type: long
              description: >
                The number of packets sent.

            - name: in.packets
              type: long
              description: >
                The number or packets received.

            - name: in.errors
              type: long
              description: >
                The number of errors while receiving.

            - name: out.errors
              type: long
              description: >
                The number of errors while sending.

            - name: in.dropped
              type: long
              description: >
                The number of incoming packets that were dropped.

            - name: out.dropped
              type: long
              description: >
                The number of outgoing packets that were dropped. This value is always
                0 on Darwin and BSD because it is not reported by the operating system.

        - name: process
          type: group
          description: >
            `process` contains process metadata, CPU metrics, and memory metrics.
          fields:
            - name: name
              type: keyword
              description: >
                The process name.
            - name: state
              type: keyword
              description: >
                The process state. For example: "running".
            - name: pid
              type: long
              description: >
                The process pid.
            - name: ppid
              type: long
              description: >
                The process parent pid.
            - name: pgid
              type: long
              description: >
                The process group id.
            - name: cmdline
              type: keyword
              description: >
                The full command-line used to start the process, including the
                arguments separated by space.
            - name: username
              type: keyword
              description: >
                The username of the user that created the process. If the username
                cannot be determined, the field will contain the user's
                numeric identifier (UID). On Windows, this field includes the user's
                domain and is formatted as `domain\username`.
            - name: cpu
              type: group
              prefix: "[float]"
              description: CPU-specific statistics per process.
              fields:
                - name: user
                  type: long
                  description: >
                    The amount of CPU time the process spent in user space.
                - name: total.pct
                  type: scaled_float
                  format: percent
                  description: >
                    The percentage of CPU time spent by the process since the last update. Its value is similar to the
                    %CPU value of the process displayed by the top command on Unix systems.
                - name: system
                  type: long
                  description: >
                    The amount of CPU time the process spent in kernel space.
                - name: total.ticks
                  type: long
                  description: >
                    The total CPU time spent by the process.
                - name: start_time
                  type: date
                  description: >
                    The time when the process was started.
            - name: memory
              type: group
              description: Memory-specific statistics per process.
              prefix: "[float]"
              fields:
                - name: size
                  type: long
                  format: bytes
                  description: >
                    The total virtual memory the process has.
                - name: rss.bytes
                  type: long
                  format: bytes
                  description: >
                    The Resident Set Size. The amount of memory the process occupied in main memory (RAM).
                - name: rss.pct
                  type: scaled_float
                  format: percent
                  description: >
                    The percentage of memory the process occupied in main memory (RAM).
                - name: share
                  type: long
                  format: bytes
                  description: >
                    The shared memory the process uses.
            - name: fd
              type: group
              description: >
                File descriptor usage metrics. This set of metrics is available for
                Linux and FreeBSD.
              prefix: "[float]"
              fields:
                - name: open
                  type: long
                  description: The number of file descriptors open by the process.
                - name: limit.soft
                  type: long
                  description: >
                    The soft limit on the number of file descriptors opened by the
                    process. The soft limit can be changed by the process at any time.
                - name: limit.hard
                  type: long
                  description: >
                    The hard limit on the number of file descriptors opened by the
                    process. The hard limit can only be raised by root.
            - name: cgroup
              type: group
              description: >
                experimental[]

                Metrics and limits from the cgroup of which the task is a member.
                cgroup metrics are reported when the process has membership in a
                non-root cgroup. These metrics are only available on Linux.
              fields:
                - name: id
                  type: keyword
                  description: >
                    The ID common to all cgroups associated with this task.
                    If there isn't a common ID used by all cgroups this field will be
                    absent.

                - name: path
                  type: keyword
                  description: >
                    The path to the cgroup relative to the cgroup subsystem's mountpoint.
                    If there isn't a common path used by all cgroups this field will be
                    absent.

                - name: cpu
                  type: group
                  description: >
                    The cpu subsystem schedules CPU access for tasks in the cgroup.
                    Access can be controlled by two separate schedulers, CFS and RT.
                    CFS stands for completely fair scheduler which proportionally
                    divides the CPU time between cgroups based on weight. RT stands for
                    real time scheduler which sets a maximum amount of CPU time that
                    processes in the cgroup can consume during a given period.

                  fields:
                    - name: id
                      type: keyword
                      description: ID of the cgroup.

                    - name: path
                      type: keyword
                      description: >
                        Path to the cgroup relative to the cgroup subsystem's
                        mountpoint.

                    - name: cfs.period.us
                      type: long
                      description: >
                        Period of time in microseconds for how regularly a
                        cgroup's access to CPU resources should be reallocated.

                    - name: cfs.quota.us
                      type: long
                      description: >
                        Total amount of time in microseconds for which all
                        tasks in a cgroup can run during one period (as defined by
                        cfs.period.us).

                    - name: cfs.shares
                      type: long
                      description: >
                        An integer value that specifies a relative share of CPU time
                        available to the tasks in a cgroup. The value specified in the
                        cpu.shares file must be 2 or higher.

                    - name: rt.period.us
                      type: long
                      description: >
                        Period of time in microseconds for how regularly a cgroup's
                        access to CPU resources is reallocated.

                    - name: rt.runtime.us
                      type: long
                      description: >
                        Period of time in microseconds for the longest continuous period
                        in which the tasks in a cgroup have access to CPU resources.

                    - name: stats.periods
                      type: long
                      description: >
                        Number of period intervals (as specified in cpu.cfs.period.us)
                        that have elapsed.

                    - name: stats.throttled.periods
                      type: long
                      description: >
                        Number of times tasks in a cgroup have been throttled (that is,
                        not allowed to run because they have exhausted all of the
                        available time as specified by their quota).

                    - name: stats.throttled.ns
                      type: long
                      description: >
                        The total time duration (in nanoseconds) for which tasks in a
                        cgroup have been throttled.

                - name: cpuacct
                  type: group
                  description: CPU accounting metrics.
                  fields:
                    - name: id
                      type: keyword
                      description: ID of the cgroup.

                    - name: path
                      type: keyword
                      description: >
                        Path to the cgroup relative to the cgroup subsystem's
                        mountpoint.

                    - name: total.ns
                      type: long
                      description: >
                        Total CPU time in nanoseconds consumed by all tasks in the
                        cgroup.

                    - name: stats.user.ns
                      type: long
                      description: CPU time consumed by tasks in user mode.

                    - name: stats.system.ns
                      type: long
                      description: CPU time consumed by tasks in user (kernel) mode.

                    - name: percpu
                      type: dict
                      dict-type: long
                      description: >
                        CPU time (in nanoseconds) consumed on each CPU by all tasks in
                        this cgroup.

                - name: memory
                  type: group
                  description: Memory limits and metrics.
                  fields:
                    - name: id
                      type: keyword
                      description: ID of the cgroup.

                    - name: path
                      type: keyword
                      description: >
                        Path to the cgroup relative to the cgroup subsystem's mountpoint.

                    - name: mem.usage.bytes
                      type: long
                      format: bytes
                      description: >
                        Total memory usage by processes in the cgroup (in bytes).

                    - name: mem.usage.max.bytes
                      type: long
                      format: bytes
                      description: >
                        The maximum memory used by processes in the cgroup (in bytes).

                    - name: mem.limit.bytes
                      type: long
                      format: bytes
                      description: >
                        The maximum amount of user memory in bytes (including file
                        cache) that tasks in the cgroup are allowed to use.

                    - name: mem.failures
                      type: long
                      description: >
                        The number of times that the memory limit (mem.limit.bytes) was
                        reached.

                    - name: memsw.usage.bytes
                      type: long
                      format: bytes
                      description: >
                        The sum of current memory usage plus swap space used by
                        processes in the cgroup (in bytes).

                    - name: memsw.usage.max.bytes
                      type: long
                      format: bytes
                      description: >
                        The maximum amount of memory and swap space used by processes in
                        the cgroup (in bytes).

                    - name: memsw.limit.bytes
                      type: long
                      format: bytes
                      description: >
                        The maximum amount for the sum of memory and swap usage
                        that tasks in the cgroup are allowed to use.

                    - name: memsw.failures
                      type: long
                      description: >
                        The number of times that the memory plus swap space limit
                        (memsw.limit.bytes) was reached.

                    - name: kmem.usage.bytes
                      type: long
                      format: bytes
                      description: >
                        Total kernel memory usage by processes in the cgroup (in bytes).

                    - name: kmem.usage.max.bytes
                      type: long
                      format: bytes
                      description: >
                        The maximum kernel memory used by processes in the cgroup (in
                        bytes).

                    - name: kmem.limit.bytes
                      type: long
                      format: bytes
                      description: >
                        The maximum amount of kernel memory that tasks in the cgroup are
                        allowed to use.

                    - name: kmem.failures
                      type: long
                      description: >
                        The number of times that the memory limit (kmem.limit.bytes) was
                        reached.

                    - name: kmem_tcp.usage.bytes
                      type: long
                      format: bytes
                      description: >
                        Total memory usage for TCP buffers in bytes.

                    - name: kmem_tcp.usage.max.bytes
                      type: long
                      format: bytes
                      description: >
                        The maximum memory used for TCP buffers by processes in the
                        cgroup (in bytes).

                    - name: kmem_tcp.limit.bytes
                      type: long
                      format: bytes
                      description: >
                        The maximum amount of memory for TCP buffers that tasks in the
                        cgroup are allowed to use.

                    - name: kmem_tcp.failures
                      type: long
                      description: >
                        The number of times that the memory limit (kmem_tcp.limit.bytes)
                        was reached.

                    - name: stats.active_anon.bytes
                      type: long
                      format: bytes
                      description: >
                        Anonymous and swap cache on active least-recently-used (LRU)
                        list, including tmpfs (shmem), in bytes.

                    - name: stats.active_file.bytes
                      type: long
                      format: bytes
                      description: File-backed memory on active LRU list, in bytes.

                    - name: stats.cache.bytes
                      type: long
                      format: bytes
                      description: Page cache, including tmpfs (shmem), in bytes.

                    - name: stats.hierarchical_memory_limit.bytes
                      type: long
                      format: bytes
                      description: >
                        Memory limit for the hierarchy that contains the memory cgroup,
                        in bytes.

                    - name: stats.hierarchical_memsw_limit.bytes
                      type: long
                      format: bytes
                      description: >
                        Memory plus swap limit for the hierarchy that contains the
                        memory cgroup, in bytes.

                    - name: stats.inactive_anon.bytes
                      type: long
                      format: bytes
                      description: >
                        Anonymous and swap cache on inactive LRU list, including tmpfs
                        (shmem), in bytes

                    - name: stats.inactive_file.bytes
                      type: long
                      format: bytes
                      description: >
                        File-backed memory on inactive LRU list, in bytes.

                    - name: stats.mapped_file.bytes
                      type: long
                      format: bytes
                      description: >
                        Size of memory-mapped mapped files, including tmpfs (shmem),
                        in bytes.

                    - name: stats.page_faults
                      type: long
                      description: >
                        Number of times that a process in the cgroup triggered a page
                        fault.

                    - name: stats.major_page_faults
                      type: long
                      description: >
                        Number of times that a process in the cgroup triggered a major
                        fault. "Major" faults happen when the kernel actually has to
                        read the data from disk.

                    - name: stats.pages_in
                      type: long
                      description: >
                        Number of pages paged into memory. This is a counter.

                    - name: stats.pages_out
                      type: long
                      description: >
                        Number of pages paged out of memory. This is a counter.

                    - name: stats.rss.bytes
                      type: long
                      format: bytes
                      description: >
                        Anonymous and swap cache (includes transparent hugepages), not
                        including tmpfs (shmem), in bytes.

                    - name: stats.rss_huge.bytes
                      type: long
                      format: bytes
                      description: >
                        Number of bytes of anonymous transparent hugepages.

                    - name: stats.swap.bytes
                      type: long
                      format: bytes
                      description: >
                        Swap usage, in bytes.

                    - name: stats.unevictable.bytes
                      type: long
                      format: bytes
                      description: >
                        Memory that cannot be reclaimed, in bytes.

                - name: blkio
                  type: group
                  description: Block IO metrics.
                  fields:
                    - name: id
                      type: keyword
                      description: ID of the cgroup.

                    - name: path
                      type: keyword
                      description: >
                        Path to the cgroup relative to the cgroup subsystems mountpoint.

                    - name: total.bytes
                      type: long
                      format: bytes
                      description: >
                        Total number of bytes transferred to and from all block devices
                        by processes in the cgroup.

                    - name: total.ios
                      type: long
                      description: >
                        Total number of I/O operations performed on all devices
                        by processes in the cgroup as seen by the throttling policy.

- key: zookeeper
  title: "ZooKeeper"
  description: >
    ZooKeeper metrics collected by the four-letter monitoring commands.
  short_config: false
  fields:
    - name: zookeeper
      type: group
      description: >
        `zookeeper` contains the metrics reported by ZooKeeper
        commands.
      fields:
        - name: mntr
          type: group
          description: >
            `mntr` contains the metrics reported by the four-letter `mntr`
            command.
          fields:
            - name: hostname
              type: keyword
              description: >
                ZooKeeper hostname.
            - name: approximate_data_size
              type: long
              description: >
                Approximate size of ZooKeeper data.
            - name: latency.avg
              type: long
              description: >
                Average latency between ensemble hosts in milliseconds.
            - name: ephemerals_count
              type: long
              description: >
                Number of ephemeral znodes.
            - name: followers
              type: long
              description: >
                Number of followers seen by the current host.
            - name: max_file_descriptor_count
              type: long
              description: >
                Maximum number of file descriptors allowed for the ZooKeeper process.
            - name: latency.max
              type: long
              description: >
                Maximum latency in milliseconds.
            - name: latency.min
              type: long
              description: >
                Minimum latency in milliseconds.
            - name: num_alive_connections
              type: long
              description: >
                Number of connections to ZooKeeper that are currently alive.
            - name: open_file_descriptor_count
              type: long
              description: >
                Number of file descriptors open by the ZooKeeper process.
            - name: outstanding_requests
              type: long
              description: >
                Number of outstanding requests that need to be processed by the cluster.
            - name: packets.received
              type: long
              description: >
                Number of ZooKeeper network packets received.
            - name: packets.sent
              type: long
              description: >
                Number of ZooKeeper network packets sent.
            - name: pending_syncs
              type: long
              description: >
                Number of pending syncs to carry out to ZooKeeper ensemble followers.
            - name: server_state
              type: keyword
              description: >
                Role in the ZooKeeper ensemble.
            - name: synced_followers
              type: long
              description: >
                Number of synced followers reported when a node server_state is leader.
            - name: version
              type: keyword
              description: >
                ZooKeeper version and build string reported.
            - name: watch_count
              type: long
              description: >
                Number of watches currently set on the local ZooKeeper process.
            - name: znode_count
              type: long
              description: >
                Number of znodes reported by the local ZooKeeper process.



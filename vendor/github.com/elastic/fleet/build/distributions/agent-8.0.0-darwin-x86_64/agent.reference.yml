###################### Agent Configuration Example #########################

# This file is an example configuration file highlighting only the most common
# options. The agent.reference.yml file from the same directory contains all the
# supported options with more comments. You can use it as a reference.
######################################
# Fleet configuration
######################################
inputs:
  - type: log/docker
    enabled: true

  - type: metric/docker
    enabled: true

outputs.elasticsearch:
  host: 127.0.0.1
  username: elastic
  password: changeme

config:
  reload: 1s
  enabled: true

  inputs:
    path: conf.d/*.yml

# management: "uri"

# reattach collection is a way of tracking started processes by agent.
reattachCollectionPath: "/home/elastic/reattach"

download:
  # operating system [linux, windows, darwin]
  operatingSystem: "linux"
  # target architecture [32, 64]
  arch: "32"
  # source of the artifacts, requires elastic like structure and naming of the binaries
  # e.g /windows-x86.zip
  sourceURI: "https://artifacts.elastic.co/downloads/beats/"
  # path to the directory containing downloaded packages
  targetDirectory: "/home/elastic/downloads"
  # timeout for downloading package
  timeout: 30s
  # file path to a public key used for verifying downloaded artifacts
  # if not file is present agent will try to load public key from elastic.co website.
  pgpfile: "/home/elastic/elastic.pgp"# install describes the location of installed packages/programs. It is also used
  # for reading program specifications.
  installPath: "/"

process:
  # minimal port number for spawned processes
  minPort: 10000
  # maximum port number for spawned processes
  maxPort: 30000
  # timeout for creating new processes. when process is not successfully created by this timeout
  # start operation is considered a failure
  spawnTimeout: 30s

retry:
  # Enabled determines whether retry is possible. Default is false.
  enabled: true
  # RetriesCount specifies number of retries. Default is 3.
  # Retry count of 1 means it will be retried one time after one failure.
  retriesCount: 3
  # Delay specifies delay in ms between retries. Default is 30s
  delay: 30s
  # MaxDelay specifies maximum delay in ms between retries. Default is 300s
  maxDelay: 5m
  # Exponential determines whether delay is treated as exponential.
  # With 30s delay and 3 retries: 30, 60, 120s
  # Default is false
  exponential: false

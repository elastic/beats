- key: hl7v2
  title: "hl7v2"
  description: hl7v2 specific event fields.
  fields:
    - name: hl7v2
      type: group
      fields:
        - name: request
          type: group
          fields:
            - name: sending_application
              type: keyword
            - name: sending_facility
              type: keyword
            - name: receiving_application
              type: keyword
            - name: receiving_facility
              type: keyword
            - name: datetime_of_message
              type: date
            - name: message_type
              type: keyword
            - name: message_control_id
              type: text
            - name: version_id
              type: float
        - name: request.items
          type: nested
        - name: request.items.line
          type: long
        - name: request.items.segment
          type: keyword
        - name: request.items.field
          type: long 
        - name: request.items.repeat
          type: long 
        - name: request.items.component
          type: long
        - name: request.items.subcomponent
          type: long
        - name: request.items.text
          type: text
        - name: request.items.numeric
          type: float
          ignore_malformed: true
        - name: request.items.date
          type: date
          format: strict_basic_date_time||strict_basic_date_time_no_millis||strict_basic_date
          ignore_malformed: true

        - name: response
          type: group
          fields:
            - name: acknowledgement_code
              type: keyword
            - name: message_control_id
              type: text
            - name: text_message
              type: text
        - name: response.items
          type: nested
        - name: response.items.line
          type: long
        - name: response.items.segment
          type: keyword
        - name: response.items.field
          type: long 
        - name: response.items.repeat
          type: long 
        - name: response.items.component
          type: long
        - name: response.items.subcomponent
          type: long
        - name: response.items.text
          type: text
        - name: response.items.numeric
          type: float
          ignore_malformed: true
        - name: response.items.date
          type: date
          format: strict_basic_date_time||strict_basic_date_time_no_millis||strict_basic_date
          ignore_malformed: true


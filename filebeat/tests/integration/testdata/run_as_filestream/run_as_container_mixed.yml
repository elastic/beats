filebeat.inputs:
  - type: container
    id: stdout-input-id
    allow_deprecated_use: true
    paths:
      - {{ .logfile }}
    stream: stdout

  - type: container
    id: stderr-input-id
    allow_deprecated_use: true
    paths:
      - {{ .logfile }}
    stream: stderr

queue.mem:
  flush.timeout: 0

output.file:
  path: ${path.home}
  filename: output
  rotate_on_startup: false

logging:
  level: debug
  selectors:
    - "*"

{{ if .filestream }}
features:
  log_input_run_as_filestream:
    enabled: true
{{ end }}

[
    {
        "@timestamp": "2020-01-29T00:00:01.606Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.file.line": "6841",
        "greenplum.log.file.name": "postmaster.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.level": "LOG",
        "greenplum.log.message": "connection received: host=[local]",
        "greenplum.log.process_id": "p713507",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.thread_id": "-2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.606881 UTC",
        "greenplum.log.transaction_id": "0",
        "input.type": "log",
        "log.offset": 0,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.607Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "postgres",
        "greenplum.log.file.line": "6900",
        "greenplum.log.file.name": "postmaster.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.message": "connection authorized: user=gpadmin database=postgres",
        "greenplum.log.process_id": "p713507",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.thread_id": "-2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.607028 UTC",
        "greenplum.log.transaction_id": "0",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 175,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.613Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "postgres",
        "greenplum.log.file.line": "265",
        "greenplum.log.file.name": "postinit.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682061",
        "greenplum.log.message": "connection authorized: user=gpadmin database=postgres",
        "greenplum.log.process_id": "p713507",
        "greenplum.log.session_id": "con408754",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "-2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.613414 UTC",
        "greenplum.log.transaction_id": "190682061",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 398,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.616Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "postgres",
        "greenplum.log.debug": "select datname from pg_database where datname not in ('postgres', 'template0', 'template1');",
        "greenplum.log.distributed_transaction_id": "dx889919",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682062",
        "greenplum.log.message": "statement: select datname from pg_database where datname not in ('postgres', 'template0', 'template1');",
        "greenplum.log.process_id": "p713507",
        "greenplum.log.session_id": "con408754",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "-2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.616552 UTC",
        "greenplum.log.transaction_id": "190682062",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 648,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.640Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "dq_data_model",
        "greenplum.log.debug": "select count(*) from pg_tables where tablename='heartbeat' and schemaname='public';",
        "greenplum.log.distributed_transaction_id": "dx889920",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682065",
        "greenplum.log.message": "statement: select count(*) from pg_tables where tablename='heartbeat' and schemaname='public';",
        "greenplum.log.process_id": "p713944",
        "greenplum.log.session_id": "con408755",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "-2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.640393 UTC",
        "greenplum.log.transaction_id": "190682065",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 1055,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.640Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "vds_prd",
        "greenplum.log.debug": "select version()",
        "greenplum.log.distributed_transaction_id": "dx889921",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682066",
        "greenplum.log.message": "statement: select version()",
        "greenplum.log.process_id": "p713961",
        "greenplum.log.session_id": "con408756",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "-2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.640757 UTC",
        "greenplum.log.transaction_id": "190682066",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 1449,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.650Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "vds_prd",
        "greenplum.log.debug": "select count(case when current_query not like '%<IDLE>%' and lower(current_query) <> 'select 1' then 1 end) active_queries from pg_stat_activity;",
        "greenplum.log.distributed_transaction_id": "dx889922",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682070",
        "greenplum.log.message": "statement: select count(case when current_query not like '%<IDLE>%' and lower(current_query) <> 'select 1' then 1 end) active_queries from pg_stat_activity;",
        "greenplum.log.process_id": "p714144",
        "greenplum.log.session_id": "con408757",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "-2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.650141 UTC",
        "greenplum.log.transaction_id": "190682070",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 1703,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.653Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "vds_prd",
        "greenplum.log.debug": "\nSELECT procpid as w_pid, usename as w_user, 'con' || sess_id  as w_connection,\n    string_agg(l_procpid,',') as l_pids,\n    string_agg(l_usename,',') as l_users,\n    string_agg('con' || l_sess_id,',') as l_conns,\n    string_agg(l_table) as tables\nfrom\n    (\n    select w.procpid, w.usename,w.sess_id,\n        l.procpid as l_procpid,\n        l.usename as l_usename,\n        l.sess_id as l_sess_id,\n        t.schemaname || '.' || t.relname as l_table\n    from pg_stat_activity w\n    join pg_locks l1 on w.procpid = l1.pid and not l1.granted\n    join pg_locks l2 on l1.relation = l2.relation and l2.granted\n    join pg_stat_activity l on l2.pid = l.procpid\n    join pg_stat_user_tables t on l1.relation = t.relid\n    where w.waiting\n    and w.usename in ('yotta_prd','gpadmin')\n    and w.procpid <> l.procpid\n    group by\n        1,2,3,4,5,6,7\n    )xxx\ngroup by 1,2,3\norder by 1,2,3\n",
        "greenplum.log.distributed_transaction_id": "dx889924",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682072",
        "greenplum.log.message": "statement:\nSELECT procpid as w_pid, usename as w_user, 'con' || sess_id  as w_connection,\n    string_agg(l_procpid,',') as l_pids,\n    string_agg(l_usename,',') as l_users,\n    string_agg('con' || l_sess_id,',') as l_conns,\n    string_agg(l_table) as tables\nfrom\n    (\n    select w.procpid, w.usename,w.sess_id,\n        l.procpid as l_procpid,\n        l.usename as l_usename,\n        l.sess_id as l_sess_id,\n        t.schemaname || '.' || t.relname as l_table\n    from pg_stat_activity w\n    join pg_locks l1 on w.procpid = l1.pid and not l1.granted\n    join pg_locks l2 on l1.relation = l2.relation and l2.granted\n    join pg_stat_activity l on l2.pid = l.procpid\n    join pg_stat_user_tables t on l1.relation = t.relid\n    where w.waiting\n    and w.usename in ('yotta_prd','gpadmin')\n    and w.procpid <> l.procpid\n    group by\n        1,2,3,4,5,6,7\n    )xxx\ngroup by 1,2,3\norder by 1,2,3",
        "greenplum.log.process_id": "p714201",
        "greenplum.log.session_id": "con408759",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "-2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.653023 UTC",
        "greenplum.log.transaction_id": "190682072",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.flags": [
            "multiline"
        ],
        "log.offset": 2215,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-02-14T00:00:07.076Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "3",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "vds_prd",
        "greenplum.log.debug": "INSERT INTO dba_work.gp_usability_work (dbid,content,role,preferred_role ,mode,status,run_time)\nSELECT dbid,content,role,preferred_role,mode,status,'20200214 00:00'::timestamp FROM gp_segment_configuration UNION ALL\nSELECT dbid,content,role,preferred_role,mode,status,'20200214 00:00'::timestamp FROM gp_segment_configuration UNION ALL\nSELECT dbid,content,role,preferred_role,mode,status,'20200214 00:00'::timestamp FROM gp_segment_configuration;",
        "greenplum.log.distributed_transaction_id": "dx853045",
        "greenplum.log.file.line": "1175",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x193249667",
        "greenplum.log.message": "statement: INSERT INTO dba_work.gp_usability_work (dbid,content,role,preferred_role ,mode,status,run_time)\nSELECT dbid,content,role,preferred_role,mode,status,'20200214 00:00'::timestamp FROM gp_segment_configuration UNION ALL\nSELECT dbid,content,role,preferred_role,mode,status,'20200214 00:00'::timestamp FROM gp_segment_configuration UNION ALL\nSELECT dbid,content,role,preferred_role,mode,status,'20200214 00:00'::timestamp FROM gp_segment_configuration;",
        "greenplum.log.process_id": "p751024",
        "greenplum.log.session_id": "con399541",
        "greenplum.log.session_start": "2020-02-14 00:00:07 UTC",
        "greenplum.log.slice_id": "1",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "1452697472",
        "greenplum.log.timestamp": "2020-02-14 00:00:07.076297 UTC",
        "greenplum.log.transaction_id": "193249667",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.flags": [
            "multiline"
        ],
        "log.offset": 4197,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-02-14T03:36:44.311Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.file.line": "6841",
        "greenplum.log.file.name": "postmaster.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.level": "LOG",
        "greenplum.log.message": "connection received: host=10.110.181.132 port=51628",
        "greenplum.log.process_id": "p7548",
        "greenplum.log.session_start": "2020-02-14 03:36:44 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.thread_id": "1452697472",
        "greenplum.log.timestamp": "2020-02-14 03:36:44.311183 UTC",
        "greenplum.log.transaction_id": "0",
        "input.type": "log",
        "log.offset": 5316,
        "service.type": "greenplum"
    }
]
[
    {
        "@timestamp": "2020-01-29T00:00:01.606Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.context": "",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.debug": "",
        "greenplum.log.detail": "",
        "greenplum.log.file.line": "6841",
        "greenplum.log.file.name": "postmaster.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "",
        "greenplum.log.level": "LOG",
        "greenplum.log.message": "connection received: host=[local]",
        "greenplum.log.process_id": "p713507",
        "greenplum.log.query": "",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.thread_id": "2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.606881 UTC",
        "greenplum.log.transaction_id": "0",
        "input.type": "log",
        "log.offset": 0,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.607Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.context": "",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "postgres",
        "greenplum.log.debug": "",
        "greenplum.log.detail": "",
        "greenplum.log.file.line": "6900",
        "greenplum.log.file.name": "postmaster.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.message": "connection authorized: user=gpadmin database=postgres",
        "greenplum.log.process_id": "p713507",
        "greenplum.log.query": "",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.thread_id": "2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.607028 UTC",
        "greenplum.log.transaction_id": "0",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 175,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.613Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.context": "",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "postgres",
        "greenplum.log.debug": "",
        "greenplum.log.detail": "",
        "greenplum.log.file.line": "265",
        "greenplum.log.file.name": "postinit.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682061",
        "greenplum.log.message": "connection authorized: user=gpadmin database=postgres",
        "greenplum.log.process_id": "p713507",
        "greenplum.log.query": "",
        "greenplum.log.session_id": "con408754",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.613414 UTC",
        "greenplum.log.transaction_id": "190682061",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 398,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.616Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.context": "\"select datname from pg_database where datname not in ('postgres', 'template0'",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "postgres",
        "greenplum.log.debug": " 'template1');\"",
        "greenplum.log.detail": ",",
        "greenplum.log.distributed_transaction_id": "dx889919",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682062",
        "greenplum.log.message": "statement: select datname from pg_database where datname not in ('postgres', 'template0', 'template1');",
        "greenplum.log.process_id": "p713507",
        "greenplum.log.query": "",
        "greenplum.log.session_id": "con408754",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.616552 UTC",
        "greenplum.log.transaction_id": "190682062",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 648,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.640Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.context": "",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "dq_data_model",
        "greenplum.log.debug": "\"select count(*) from pg_tables where tablename='heartbeat' and schemaname='public';\"",
        "greenplum.log.detail": "",
        "greenplum.log.distributed_transaction_id": "dx889920",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682065",
        "greenplum.log.message": "statement: select count(*) from pg_tables where tablename='heartbeat' and schemaname='public';",
        "greenplum.log.process_id": "p713944",
        "greenplum.log.query": "",
        "greenplum.log.session_id": "con408755",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.640393 UTC",
        "greenplum.log.transaction_id": "190682065",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 1055,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.640Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.context": "",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "vds_prd",
        "greenplum.log.debug": "\"select version()\"",
        "greenplum.log.detail": "",
        "greenplum.log.distributed_transaction_id": "dx889921",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682066",
        "greenplum.log.message": "statement: select version()",
        "greenplum.log.process_id": "p713961",
        "greenplum.log.query": "",
        "greenplum.log.session_id": "con408756",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.640757 UTC",
        "greenplum.log.transaction_id": "190682066",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 1449,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.650Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.context": "",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "vds_prd",
        "greenplum.log.debug": "\"select count(case when current_query not like '%<IDLE>%' and lower(current_query) <> 'select 1' then 1 end) active_queries from pg_stat_activity;\"",
        "greenplum.log.detail": "",
        "greenplum.log.distributed_transaction_id": "dx889922",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682070",
        "greenplum.log.message": "statement: select count(case when current_query not like '%<IDLE>%' and lower(current_query) <> 'select 1' then 1 end) active_queries from pg_stat_activity;",
        "greenplum.log.process_id": "p714144",
        "greenplum.log.query": "",
        "greenplum.log.session_id": "con408757",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.650141 UTC",
        "greenplum.log.transaction_id": "190682070",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.offset": 1703,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-01-29T00:00:01.653Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "1",
        "greenplum.log.context": "3\norder by 1,2",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "vds_prd",
        "greenplum.log.debug": "3\n\"",
        "greenplum.log.detail": ",,,,,\"\nSELECT procpid as w_pid, usename as w_user, 'con' || sess_id  as w_connection,\n    string_agg(l_procpid,',') as l_pids,\n    string_agg(l_usename,',') as l_users,\n    string_agg('con' || l_sess_id,',') as l_conns,\n    string_agg(l_table) as tables\nfrom\n    (\n    select w.procpid, w.usename,w.sess_id,\n        l.procpid as l_procpid,\n        l.usename as l_usename,\n        l.sess_id as l_sess_id,\n        t.schemaname || '.' || t.relname as l_table\n    from pg_stat_activity w\n    join pg_locks l1 on w.procpid = l1.pid and not l1.granted\n    join pg_locks l2 on l1.relation = l2.relation and l2.granted\n    join pg_stat_activity l on l2.pid = l.procpid\n    join pg_stat_user_tables t on l1.relation = t.relid\n    where w.waiting\n    and w.usename in ('yotta_prd','gpadmin')\n    and w.procpid <> l.procpid\n    group by\n        1,2,3,4,5",
        "greenplum.log.distributed_transaction_id": "dx889924",
        "greenplum.log.file.line": "1632",
        "greenplum.log.file.name": "postgres.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "6",
        "greenplum.log.host": "[local]",
        "greenplum.log.level": "LOG",
        "greenplum.log.local_transaction_id": "x190682072",
        "greenplum.log.message": "statement:\nSELECT procpid as w_pid, usename as w_user, 'con' || sess_id  as w_connection,\n    string_agg(l_procpid,',') as l_pids,\n    string_agg(l_usename,',') as l_users,\n    string_agg('con' || l_sess_id,',') as l_conns,\n    string_agg(l_table) as tables\nfrom\n    (\n    select w.procpid, w.usename,w.sess_id,\n        l.procpid as l_procpid,\n        l.usename as l_usename,\n        l.sess_id as l_sess_id,\n        t.schemaname || '.' || t.relname as l_table\n    from pg_stat_activity w\n    join pg_locks l1 on w.procpid = l1.pid and not l1.granted\n    join pg_locks l2 on l1.relation = l2.relation and l2.granted\n    join pg_stat_activity l on l2.pid = l.procpid\n    join pg_stat_user_tables t on l1.relation = t.relid\n    where w.waiting\n    and w.usename in ('yotta_prd','gpadmin')\n    and w.procpid <> l.procpid\n    group by\n        1,2,3,4,5,6,7\n    )xxx\ngroup by 1,2,3\norder by 1,2,3",
        "greenplum.log.process_id": "p714201",
        "greenplum.log.query": "7\n    )xxx\ngroup by 1",
        "greenplum.log.query_position": "2",
        "greenplum.log.session_id": "con408759",
        "greenplum.log.session_start": "2020-01-29 00:00:01 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "2019006592",
        "greenplum.log.timestamp": "2020-01-29 00:00:01.653023 UTC",
        "greenplum.log.transaction_id": "190682072",
        "greenplum.log.user": "gpadmin",
        "input.type": "log",
        "log.flags": [
            "multiline"
        ],
        "log.offset": 2215,
        "service.type": "greenplum"
    },
    {
        "@timestamp": "2020-02-13T15:39:46.112Z",
        "event.dataset": "greenplum.log",
        "event.module": "greenplum",
        "event.timezone": "UTC",
        "fileset.name": "log",
        "greenplum.log.command_count": "54",
        "greenplum.log.context": "\"create temp table oio AS ( SELECT has_order, has_item, cnt AS COUNT, ROUND(cnt/SUM(cnt) over (),2)*100 AS percentage_of_transactions FROM ( SELECT CASE WHEN o.order_id IS NOT NULL THEN 'True' ELSE 'False' END AS has_order, CASE WHEN i.order_id IS NOT NULL THEN 'True' ELSE 'False' END AS has_item, COUNT(*) AS cnt FROM ( SELECT order_id FROM mp.mp_order_trans_1_prt_31637)o FULL OUTER JOIN ( SELECT order_id FROM mp.mp_item_trans_1_prt_31637)i ON o.order_id = i.order_id GROUP BY 1,2)a GROUP BY 1,2",
        "greenplum.log.cursor_position": "0",
        "greenplum.log.database": "mp_prd",
        "greenplum.log.debug": "3 )\"",
        "greenplum.log.detail": ",\"Consider including the 'DISTRIBUTED BY' clause to determine the distribution of rows.\"",
        "greenplum.log.distributed_transaction_id": "dx12000082",
        "greenplum.log.file.line": "424",
        "greenplum.log.file.name": "cdbmutate.c",
        "greenplum.log.gp_segment.id": "1",
        "greenplum.log.gp_segment.type": "seg",
        "greenplum.log.hint": "",
        "greenplum.log.host": "10.110.113.62",
        "greenplum.log.level": "NOTICE",
        "greenplum.log.message": "Using default RANDOM distribution since no distribution was specified.",
        "greenplum.log.port": "50094",
        "greenplum.log.process_id": "p232068",
        "greenplum.log.query": "",
        "greenplum.log.session_id": "con7145447",
        "greenplum.log.session_start": "2020-02-13 15:39:24 UTC",
        "greenplum.log.stack": "",
        "greenplum.log.state_code": "00000",
        "greenplum.log.subtransaction_id": "sx1",
        "greenplum.log.thread_id": "656316288",
        "greenplum.log.timestamp": "2020-02-13 15:39:46.112749 UTC",
        "greenplum.log.transaction_id": "0",
        "greenplum.log.user": "mpload",
        "input.type": "log",
        "log.offset": 4197,
        "service.type": "greenplum"
    }
]
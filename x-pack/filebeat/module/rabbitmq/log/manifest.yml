module_version: 1.0

var:
  - name: paths
  # TODO: ideally, respect ENV values from https://www.rabbitmq.com/relocate.html#locations
  # at least RABBITMQ_LOGS. Could do RABBITMQ_ -> rabbitmq.
    default:
      - /var/log/rabbitmq/rabbit@localhost.log*
    os.darwin:
      - /usr/local/var/log/rabbitmq/rabbit@localhost.log*
    os.windows:
      #- '%APPDATA%\RabbitMQ\log\rabbit@localhost.log*'
  - name: convert_timezone
    default: false
    # if ES < 6.1.0, this flag switches to false automatically when evaluating the
    # pipeline
    min_elasticsearch_version:
      version: 6.1.0
      value: false
ingest_pipeline: ingest/pipeline.json
input: config/log.yml

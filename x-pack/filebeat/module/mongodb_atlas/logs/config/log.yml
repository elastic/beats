{{ if eq .input "mongodbatlas" }}

type: mongodbatlas
public_key: {{ .public_key }}
private_key: {{ .private_key }}
log_name: ["mongos.gz", "mongodb.gz"]
group_id:
{{ range .group_id }}
  - {{ . }}
{{ end }}

{{ else if eq .input "file" }}

type: log
paths:
{{ range $i, $path := .paths }}
  - {{$path}}
{{ end }}
exclude_files: [".gz$"]

{{ end }}

processors:
  - add_fields:
      target: ''
      fields:
        ecs.version: 1.9.0

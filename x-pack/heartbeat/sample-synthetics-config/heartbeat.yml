---
heartbeat.config.monitors:
  path: "${path.config}/monitors.d/*.yml"
  reload.enabled: false
  reload.period: 5s

heartbeat.monitors:
- type: synthetic_suite
  enabled: true
  id: todos-suite
  name: Todos Suite
  source:
    local:
      path: "/home/andrewvc/projects/synthetics/examples/todos"
  schedule: '@every 1m'
- type: http
  enabled: false
  id: SimpleHTTP
  urls: http://www.google.com
  schedule: "@every 15s"
  name: Simple HTTP
- type: synthetic_script
  enabled: false
  id: my-monitor
  name: My Monitor
  script: |-
    step("load homepage", async () => {
        await page.goto('https://www.elastic.co');
    });
    step("hover over products menu", async () => {
        await page.hover('css=[data-nav-item=products]');
    });
    step("failme", async () => {
        await page.hhover('css=[data-nav-item=products]');
    });
    step("skip me", async () => {
        // noop
    });
  schedule: "@every 1m"

setup.template.settings:
  index.number_of_shards: 1
  index.codec: best_compression
setup.kibana:
output.elasticsearch:
  host: "127.0.0.1:9200"
  username: elastic
  password: changeme
processors:
- add_observer_metadata:


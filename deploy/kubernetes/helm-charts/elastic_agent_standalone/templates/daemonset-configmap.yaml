---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "elastic-agent.fullname" . }}-node-datastreams
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "elastic-agent.labels" . | nindent 4 }}
data:
  agent.yml: |-
    {{- if .Values.daemonsetConfig }}
    {{- .Values.daemonsetConfig | nindent 4 }}
    {{- else }}
    {{ tpl (.Files.Get "config/daemonsetconfig.yaml" | nindent 4) . }}
    {{- end }}

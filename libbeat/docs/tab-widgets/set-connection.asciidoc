// tag::cloud[]

:beatname_url: {beats-ref-root}/{beatname_lc}/{branch}

Specify the {beatname_url}/configure-cloud-id.html[cloud.id] of your {ess}, and set
{beatname_url}/configure-cloud-id.html[cloud.auth] to a user who is authorized to
set up {beatname_uc}. For example:

["source","yaml",subs="attributes"]
----------------------------------------------------------------------
cloud.id: "staging:dXMtZWFzdC0xLmF3cy5mb3VuZC5pbyRjZWM2ZjI2MWE3NGJmMjRjZTMzYmI4ODExYjg0Mjk0ZiRjNmMyY2E2ZDA0MjI0OWFmMGNjN2Q3YTllOTYyNTc0Mw=="
cloud.auth: "{beatname_lc}_setup:{pwd}" <1>
----------------------------------------------------------------------
<1> This examples shows a hard-coded password, but you should store sensitive
values
ifndef::serverless[]
in the {beatname_url}/keystore.html[secrets keystore].
endif::[]
ifdef::serverless[]
in environment variables.
endif::[]
// end::cloud[]

// tag::self-managed[]
. Set the host and port where {beatname_uc} can find the {es} installation, and
set the username and password of a user who is authorized to set up
{beatname_uc}. For example:
+
["source","yaml",subs="attributes"]
----
output.elasticsearch:
  hosts: ["https://myEShost:9200"]
  username: "{beatname_lc}_internal"
  password: "{pwd}" <1>
  ssl:
    enabled: true
    ca_trusted_fingerprint: "b9a10bbe64ee9826abeda6546fc988c8bf798b41957c33d05db736716513dc9c" <2>
----
<1> This example shows a hard-coded password, but you should store sensitive
values
ifndef::serverless[]
in the {beatname_url}/keystore.html[secrets keystore].
endif::[]
ifdef::serverless[]
in environment variables.
endif::[]
<2> This example shows a hard-coded fingerprint, but you should store sensitive
values
ifndef::serverless[]
in the {beatname_url}/keystore.html[secrets keystore].
endif::[]
ifdef::serverless[]
in environment variables.
endif::[]
The fingerprint is a HEX encoded SHA-256 of a CA certificate,
when you start {es} for the first time, security features such as
network encryption (TLS) for {es} are enabled by default. If you are
using the self-signed certificate generated by {es} when it is started
for the first time, you will need to add its fingerprint here. The
fingerprint is printed on {es} start up logs, or you can refer to {ref-80}/configuring-stack-security.html#_connect_clients_to_elasticsearch_5[connect clients to {es}
documentation] for other options on retrieving it. If you are
providing your own SSL certificate to {es} refer to
{beatname_url}/configuration-ssl.html#ssl-client-config[{beatname_uc}
documentation on how to setup SSL].

. If you plan to use our pre-built {kib} dashboards, configure the {kib}
endpoint. Skip this step if {kib} is running on the same host as {es}.
+
[source,yaml]
----------------------------------------------------------------------
  setup.kibana:
    host: "mykibanahost:5601" <1>
    username: "my_kibana_user" <2> <3>
    password: "{pwd}"
----------------------------------------------------------------------
<1> The hostname and port of the machine where {kib} is running,
for example, `mykibanahost:5601`. If you specify a path after the port number,
include the scheme and port: `http://mykibanahost:5601/path`.
<2> The `username` and `password` settings for {kib} are optional. If you don't
specify credentials for {kib}, {beatname_uc} uses the `username` and `password`
specified for the {es} output.
<3> To use the pre-built {kib} dashboards, this user must be authorized to
view dashboards or have the
`kibana_admin` {ref}/built-in-roles.html[built-in role].
// end::self-managed[]

